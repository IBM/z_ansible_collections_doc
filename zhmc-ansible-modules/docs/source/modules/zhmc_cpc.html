

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>zhmc_cpc – Manage CPCs &mdash; Red Hat Ansible Certified Content for IBM Z  documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="../../../../_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../../../../" src="../../../../_static/documentation_options.js"></script>
        <script src="../../../../_static/jquery.js"></script>
        <script src="../../../../_static/underscore.js"></script>
        <script src="../../../../_static/doctools.js"></script>
        <script src="../../../../_static/language_data.js"></script>
    
    <script type="text/javascript" src="../../../../_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="../../../../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../../../_static/pygments.css" type="text/css" />
    <link rel="index" title="Index" href="../../../../genindex.html" />
    <link rel="search" title="Search" href="../../../../search.html" />
    <link rel="next" title="zhmc_cpc_list – List CPCs" href="zhmc_cpc_list.html" />
    <link rel="prev" title="zhmc_ldap_server_definition_list – List LDAP Server Definitions" href="zhmc_ldap_server_definition_list.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../../../../index.html" class="icon icon-home"> Red Hat Ansible Certified Content for IBM Z
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Getting Started</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../../requirements/requirements.html">Requirements</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../installation/installation.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../playbooks/playbooks.html">Playbooks</a></li>
</ul>
<p class="caption"><span class="caption-text">Ansible Content</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../../../ibm_zos_core/docs/ansible_content.html">z/OS core</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../ibm_zos_cics/docs/ansible_content.html">z/OS CICS</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../ibm_zos_ims/docs/ansible_content.html">z/OS IMS</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../ibm_zos_sysauto/docs/ansible_content.html">z/OS Sys Auto</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../ibm_zosmf/docs/ansible_content.html">z/OS z/OSMF</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../../ansible_content.html">Z HMC</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="../modules.html">Modules</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="zhmc_session.html">zhmc_session – Manage HMC sessions across tasks</a></li>
<li class="toctree-l3"><a class="reference internal" href="zhmc_console.html">zhmc_console – Manage the HMC</a></li>
<li class="toctree-l3"><a class="reference internal" href="zhmc_user.html">zhmc_user – Create HMC users</a></li>
<li class="toctree-l3"><a class="reference internal" href="zhmc_user_list.html">zhmc_user_list – List HMC users</a></li>
<li class="toctree-l3"><a class="reference internal" href="zhmc_password_rule.html">zhmc_password_rule – Create HMC password rules</a></li>
<li class="toctree-l3"><a class="reference internal" href="zhmc_password_rule_list.html">zhmc_password_rule_list – List Password Rules</a></li>
<li class="toctree-l3"><a class="reference internal" href="zhmc_user_role.html">zhmc_user_role – Create HMC user roles</a></li>
<li class="toctree-l3"><a class="reference internal" href="zhmc_user_role_list.html">zhmc_user_role_list – List HMC user roles</a></li>
<li class="toctree-l3"><a class="reference internal" href="zhmc_ldap_server_definition.html">zhmc_ldap_server_definition – Manage LDAP Server Definitions</a></li>
<li class="toctree-l3"><a class="reference internal" href="zhmc_ldap_server_definition_list.html">zhmc_ldap_server_definition_list – List LDAP Server Definitions</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">zhmc_cpc – Manage CPCs</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#synopsis">Synopsis</a></li>
<li class="toctree-l4"><a class="reference internal" href="#requirements">Requirements</a></li>
<li class="toctree-l4"><a class="reference internal" href="#parameters">Parameters</a></li>
<li class="toctree-l4"><a class="reference internal" href="#examples">Examples</a></li>
<li class="toctree-l4"><a class="reference internal" href="#return-values">Return Values</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="zhmc_cpc_list.html">zhmc_cpc_list – List CPCs</a></li>
<li class="toctree-l3"><a class="reference internal" href="zhmc_adapter.html">zhmc_adapter – Update adapters and create Hipersocket adapters</a></li>
<li class="toctree-l3"><a class="reference internal" href="zhmc_adapter_list.html">zhmc_adapter_list – List adapters</a></li>
<li class="toctree-l3"><a class="reference internal" href="zhmc_crypto_attachment.html">zhmc_crypto_attachment – Attach crypto resources to partitions</a></li>
<li class="toctree-l3"><a class="reference internal" href="zhmc_hba.html">zhmc_hba – Create HBAs in partitions</a></li>
<li class="toctree-l3"><a class="reference internal" href="zhmc_nic.html">zhmc_nic – Create NICs in partitions</a></li>
<li class="toctree-l3"><a class="reference internal" href="zhmc_nic_list.html">zhmc_nic_list – List NICs</a></li>
<li class="toctree-l3"><a class="reference internal" href="zhmc_partition.html">zhmc_partition – Create partitions</a></li>
<li class="toctree-l3"><a class="reference internal" href="zhmc_partition_list.html">zhmc_partition_list – List partitions</a></li>
<li class="toctree-l3"><a class="reference internal" href="zhmc_partition_messages.html">zhmc_partition_messages – Get console messages for OS in a partition</a></li>
<li class="toctree-l3"><a class="reference internal" href="zhmc_storage_group.html">zhmc_storage_group – Create storage groups</a></li>
<li class="toctree-l3"><a class="reference internal" href="zhmc_storage_group_attachment.html">zhmc_storage_group_attachment – Attach storage groups to partitions</a></li>
<li class="toctree-l3"><a class="reference internal" href="zhmc_storage_volume.html">zhmc_storage_volume – Create storage volumes</a></li>
<li class="toctree-l3"><a class="reference internal" href="zhmc_virtual_function.html">zhmc_virtual_function – Create virtual functions in partitions</a></li>
<li class="toctree-l3"><a class="reference internal" href="zhmc_lpar.html">zhmc_lpar – Manage LPARs</a></li>
<li class="toctree-l3"><a class="reference internal" href="zhmc_lpar_list.html">zhmc_lpar_list – List LPARs</a></li>
<li class="toctree-l3"><a class="reference internal" href="zhmc_lpar_messages.html">zhmc_lpar_messages – Get console messages for OS in an LPAR</a></li>
</ul>
</li>
</ul>
</li>
</ul>
<p class="caption"><span class="caption-text">Release Notes</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../../release/release.html">Releases</a></li>
</ul>
<p class="caption"><span class="caption-text">Troubleshooting</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../../troubleshooting/errorsandmessages.html">Errors and Messages</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../troubleshooting/errorsandmessages.html#troubleshooting-collections">Troubleshooting Collections</a></li>
</ul>
<p class="caption"><span class="caption-text">FAQs</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../../faqs/faqs.html">General</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../faqs/faqs.html#modules-playbooks">Modules, Playbooks</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../faqs/faqs.html#support">Support</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../faqs/faqs.html#community">Community</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../faqs/faqs.html#others">Others</a></li>
</ul>
<p class="caption"><span class="caption-text">Reference</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../../reference/documentation.html">Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../reference/community.html">Contributing</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../reference/helpful_links.html">Helpful Links</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../../../index.html">Red Hat Ansible Certified Content for IBM Z</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          

















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../../../index.html">Docs</a> &raquo;</li>
        
          <li><a href="../../ansible_content.html">Z HMC</a> &raquo;</li>
        
          <li><a href="../modules.html">Modules</a> &raquo;</li>
        
      <li>zhmc_cpc – Manage CPCs</li>
    
    

  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="zhmc-cpc-manage-cpcs">
<span id="zhmc-cpc-module"></span><h1>zhmc_cpc – Manage CPCs<a class="headerlink" href="#zhmc-cpc-manage-cpcs" title="Permalink to this headline">¶</a></h1>
<div class="contents local topic" id="contents">
<ul class="simple">
<li><p><a class="reference internal" href="#synopsis" id="id1">Synopsis</a></p></li>
<li><p><a class="reference internal" href="#requirements" id="id2">Requirements</a></p></li>
<li><p><a class="reference internal" href="#parameters" id="id3">Parameters</a></p></li>
<li><p><a class="reference internal" href="#examples" id="id4">Examples</a></p></li>
<li><p><a class="reference internal" href="#return-values" id="id5">Return Values</a></p></li>
</ul>
</div>
<div class="section" id="synopsis">
<h2><a class="toc-backref" href="#id1">Synopsis</a><a class="headerlink" href="#synopsis" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><p>Deactivate/Stop a CPC (Z system).</p></li>
<li><p>Activate/Start a CPC and update its properties.</p></li>
<li><p>Gather facts about a CPC, and for DPM operational mode, including its adapters, partitions and storage groups.</p></li>
<li><p>Update the properties of a CPC.</p></li>
<li><p>Upgrade the SE firmware of a CPC.</p></li>
</ul>
</div>
<div class="section" id="requirements">
<h2><a class="toc-backref" href="#id2">Requirements</a><a class="headerlink" href="#requirements" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><p>The HMC userid must have these task permissions: ‘CPC Details’. For CPCs in DMP mode: ‘Start’, ‘Stop’. For CPCs in classic mode: ‘Activate’, ‘Deactivate’.</p></li>
<li><p>The HMC userid must have object-access permissions to these objects: Target CPCs. For CPCs in DMP mode: Adapters, partitions, storage groups of target CPCs. For CPCs in classic mode: LPARs, activation profiles of target CPCs.</p></li>
</ul>
</div>
<div class="section" id="parameters">
<h2><a class="toc-backref" href="#id3">Parameters</a><a class="headerlink" href="#parameters" title="Permalink to this headline">¶</a></h2>
<dl>
<dt>hmc_host</dt><dd><p>The hostnames or IP addresses of a single HMC or of a list of redundant HMCs. A single HMC can be specified as a string type or as an HMC list with one item. An HMC list can be specified as a list type or as a string type containing a Python list representation.</p>
<p>The first available HMC of a list of redundant HMCs is used for the entire execution of the module.</p>
<div class="line-block">
<div class="line"><strong>required</strong>: True</div>
<div class="line"><strong>type</strong>: raw</div>
</div>
</dd>
<dt>hmc_auth</dt><dd><p>The authentication credentials for the HMC.</p>
<div class="line-block">
<div class="line"><strong>required</strong>: True</div>
<div class="line"><strong>type</strong>: dict</div>
</div>
<dl>
<dt>userid</dt><dd><p>The userid (username) for authenticating with the HMC. This is mutually exclusive with providing <code class="docutils literal notranslate"><span class="pre">session_id</span></code>.</p>
<div class="line-block">
<div class="line"><strong>required</strong>: False</div>
<div class="line"><strong>type</strong>: str</div>
</div>
</dd>
<dt>password</dt><dd><p>The password for authenticating with the HMC. This is mutually exclusive with providing <code class="docutils literal notranslate"><span class="pre">session_id</span></code>.</p>
<div class="line-block">
<div class="line"><strong>required</strong>: False</div>
<div class="line"><strong>type</strong>: str</div>
</div>
</dd>
<dt>session_id</dt><dd><p>HMC session ID to be used. This is mutually exclusive with providing <code class="docutils literal notranslate"><span class="pre">userid</span></code> and <code class="docutils literal notranslate"><span class="pre">password</span></code> and can be created as described in :ref:`zhmc_session_module`.</p>
<div class="line-block">
<div class="line"><strong>required</strong>: False</div>
<div class="line"><strong>type</strong>: str</div>
</div>
</dd>
<dt>ca_certs</dt><dd><p>Path name of certificate file or certificate directory to be used for verifying the HMC certificate. If null (default), the path name in the ‘REQUESTS_CA_BUNDLE’ environment variable or the path name in the ‘CURL_CA_BUNDLE’ environment variable is used, or if neither of these variables is set, the certificates in the Mozilla CA Certificate List provided by the ‘certifi’ Python package are used for verifying the HMC certificate.</p>
<div class="line-block">
<div class="line"><strong>required</strong>: False</div>
<div class="line"><strong>type</strong>: str</div>
</div>
</dd>
<dt>verify</dt><dd><p>If True (default), verify the HMC certificate as specified in the <code class="docutils literal notranslate"><span class="pre">ca_certs</span></code> parameter. If False, ignore what is specified in the <code class="docutils literal notranslate"><span class="pre">ca_certs</span></code> parameter and do not verify the HMC certificate.</p>
<div class="line-block">
<div class="line"><strong>required</strong>: False</div>
<div class="line"><strong>type</strong>: bool</div>
<div class="line"><strong>default</strong>: True</div>
</div>
</dd>
</dl>
</dd>
<dt>name</dt><dd><p>The name of the target CPC.</p>
<div class="line-block">
<div class="line"><strong>required</strong>: True</div>
<div class="line"><strong>type</strong>: str</div>
</div>
</dd>
<dt>state</dt><dd><p>The desired state for the CPC. All states are fully idempotent within the limits of the properties that can be changed:</p>
<p>* <code class="docutils literal notranslate"><span class="pre">inactive</span></code>: Ensures the CPC is inactive.</p>
<p>* <code class="docutils literal notranslate"><span class="pre">active</span></code>: Ensures the CPC is active and then ensures that the CPC has the specified properties. The operational mode of the CPC cannot be changed.</p>
<p>* <code class="docutils literal notranslate"><span class="pre">set</span></code>: Ensures that the CPC has the specified properties.</p>
<p>* <code class="docutils literal notranslate"><span class="pre">facts</span></code>: Returns the CPC properties including its child resources.</p>
<p>* <code class="docutils literal notranslate"><span class="pre">upgrade</span></code>: Upgrades the firmware of the SE of the CPC and returns the new facts after the upgrade. If the SE firmware is already at the requested bundle level, nothing is changed and the module succeeds.</p>
<div class="line-block">
<div class="line"><strong>required</strong>: True</div>
<div class="line"><strong>type</strong>: str</div>
<div class="line"><strong>choices</strong>: inactive, active, set, facts, upgrade</div>
</div>
</dd>
<dt>select_properties</dt><dd><p>Limits the returned properties of the CPC to those specified in this parameter plus those specified in the <code class="docutils literal notranslate"><span class="pre">properties</span></code> parameter.</p>
<p>The properties can be specified with underscores or hyphens in their names.</p>
<p>Null indicates not to limit the returned properties in this way.</p>
<p>This parameter is ignored for <code class="docutils literal notranslate"><span class="pre">state</span></code> values that cause no properties to be returned.</p>
<p>The returned child resources (adapters, partitions, storage groups) cannot be excluded using this parameter.</p>
<p>The specified properties are passed to the ‘Get CPC Properties’ HMC operation using the ‘properties’ query parameter and save time for the HMC to pull together all properties.</p>
<div class="line-block">
<div class="line"><strong>required</strong>: False</div>
<div class="line"><strong>type</strong>: list</div>
<div class="line"><strong>elements</strong>: str</div>
</div>
</dd>
<dt>activation_profile_name</dt><dd><p>The name of the reset activation profile to be used when activating the CPC in the classic operational mode, for <code class="docutils literal notranslate"><span class="pre">state=active</span></code>. This parameter is ignored when the CPC is in classic mode and was already active, and when the CPC is in DPM mode.</p>
<p>Default: The reset activation profile specified in the ‘next-activation-profile-name’ property of the CPC.</p>
<p>This parameter is not allowed for the other <code class="docutils literal notranslate"><span class="pre">state</span></code> values.</p>
<div class="line-block">
<div class="line"><strong>required</strong>: False</div>
<div class="line"><strong>type</strong>: str</div>
</div>
</dd>
<dt>properties</dt><dd><p>Only for <code class="docutils literal notranslate"><span class="pre">state=set</span></code> and <code class="docutils literal notranslate"><span class="pre">state=active</span></code>: New values for the properties of the CPC. Properties omitted in this dictionary will remain unchanged. This parameter will be ignored for other <code class="docutils literal notranslate"><span class="pre">state</span></code> values.</p>
<p>The parameter is a dictionary. The key of each dictionary item is the property name as specified in the data model for CPC resources, with underscores instead of hyphens. The value of each dictionary item is the property value (in YAML syntax). Integer properties may also be provided as decimal strings.</p>
<p>The possible properties in this dictionary are the properties defined as writeable in the data model for CPC resources.</p>
<div class="line-block">
<div class="line"><strong>required</strong>: False</div>
<div class="line"><strong>type</strong>: dict</div>
</div>
</dd>
<dt>bundle_level</dt><dd><p>Name of the bundle to be installed on the SE of the CPC (e.g. ‘S71’)</p>
<p>Required for <code class="docutils literal notranslate"><span class="pre">state=upgrade</span></code></p>
<div class="line-block">
<div class="line"><strong>required</strong>: False</div>
<div class="line"><strong>type</strong>: str</div>
</div>
</dd>
<dt>upgrade_timeout</dt><dd><p>Timeout in seconds for waiting for completion of upgrade (e.g. 10800)</p>
<div class="line-block">
<div class="line"><strong>required</strong>: False</div>
<div class="line"><strong>type</strong>: int</div>
<div class="line"><strong>default</strong>: 10800</div>
</div>
</dd>
<dt>accept_firmware</dt><dd><p>Accept the previous bundle level before installing the new level.</p>
<p>Optional for <code class="docutils literal notranslate"><span class="pre">state=upgrade</span></code>, default: True</p>
<div class="line-block">
<div class="line"><strong>required</strong>: False</div>
<div class="line"><strong>type</strong>: bool</div>
<div class="line"><strong>default</strong>: True</div>
</div>
</dd>
<dt>log_file</dt><dd><p>File path of a log file to which the logic flow of this module as well as interactions with the HMC are logged. If null, logging will be propagated to the Python root logger.</p>
<div class="line-block">
<div class="line"><strong>required</strong>: False</div>
<div class="line"><strong>type</strong>: str</div>
</div>
</dd>
</dl>
</div>
<div class="section" id="examples">
<h2><a class="toc-backref" href="#id4">Examples</a><a class="headerlink" href="#examples" title="Permalink to this headline">¶</a></h2>
<div class="highlight-yaml+jinja notranslate"><div class="highlight"><pre><span></span><span class="nn">---</span>
<span class="c1"># Note: The following examples assume that some variables named &#39;my_*&#39; are set.</span>

<span class="p p-Indicator">-</span> <span class="nt">name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">Gather facts about the CPC</span>
  <span class="nt">zhmc_cpc</span><span class="p">:</span>
    <span class="nt">hmc_host</span><span class="p">:</span> <span class="s">&quot;</span><span class="cp">{{</span> <span class="nv">my_hmc_host</span> <span class="cp">}}</span><span class="s">&quot;</span>
    <span class="nt">hmc_auth</span><span class="p">:</span> <span class="s">&quot;</span><span class="cp">{{</span> <span class="nv">my_hmc_auth</span> <span class="cp">}}</span><span class="s">&quot;</span>
    <span class="nt">name</span><span class="p">:</span> <span class="s">&quot;</span><span class="cp">{{</span> <span class="nv">my_cpc_name</span> <span class="cp">}}</span><span class="s">&quot;</span>
    <span class="nt">state</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">facts</span>
  <span class="nt">register</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">cpc1</span>

<span class="p p-Indicator">-</span> <span class="nt">name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">Ensure the CPC is inactive</span>
  <span class="nt">zhmc_cpc</span><span class="p">:</span>
    <span class="nt">hmc_host</span><span class="p">:</span> <span class="s">&quot;</span><span class="cp">{{</span> <span class="nv">my_hmc_host</span> <span class="cp">}}</span><span class="s">&quot;</span>
    <span class="nt">hmc_auth</span><span class="p">:</span> <span class="s">&quot;</span><span class="cp">{{</span> <span class="nv">my_hmc_auth</span> <span class="cp">}}</span><span class="s">&quot;</span>
    <span class="nt">name</span><span class="p">:</span> <span class="s">&quot;</span><span class="cp">{{</span> <span class="nv">my_cpc_name</span> <span class="cp">}}</span><span class="s">&quot;</span>
    <span class="nt">state</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">inactive</span>

<span class="p p-Indicator">-</span> <span class="nt">name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">Ensure the CPC is active</span>
  <span class="nt">zhmc_cpc</span><span class="p">:</span>
    <span class="nt">hmc_host</span><span class="p">:</span> <span class="s">&quot;</span><span class="cp">{{</span> <span class="nv">my_hmc_host</span> <span class="cp">}}</span><span class="s">&quot;</span>
    <span class="nt">hmc_auth</span><span class="p">:</span> <span class="s">&quot;</span><span class="cp">{{</span> <span class="nv">my_hmc_auth</span> <span class="cp">}}</span><span class="s">&quot;</span>
    <span class="nt">name</span><span class="p">:</span> <span class="s">&quot;</span><span class="cp">{{</span> <span class="nv">my_cpc_name</span> <span class="cp">}}</span><span class="s">&quot;</span>
    <span class="nt">state</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">active</span>
  <span class="nt">register</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">cpc1</span>

<span class="p p-Indicator">-</span> <span class="nt">name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">Ensure the CPC has the desired property values</span>
  <span class="nt">zhmc_cpc</span><span class="p">:</span>
    <span class="nt">hmc_host</span><span class="p">:</span> <span class="s">&quot;</span><span class="cp">{{</span> <span class="nv">my_hmc_host</span> <span class="cp">}}</span><span class="s">&quot;</span>
    <span class="nt">hmc_auth</span><span class="p">:</span> <span class="s">&quot;</span><span class="cp">{{</span> <span class="nv">my_hmc_auth</span> <span class="cp">}}</span><span class="s">&quot;</span>
    <span class="nt">name</span><span class="p">:</span> <span class="s">&quot;</span><span class="cp">{{</span> <span class="nv">my_cpc_name</span> <span class="cp">}}</span><span class="s">&quot;</span>
    <span class="nt">state</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">set</span>
    <span class="nt">properties</span><span class="p">:</span>
      <span class="nt">acceptable_status</span><span class="p">:</span>
        <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">active</span>
      <span class="nt">description</span><span class="p">:</span> <span class="s">&quot;This</span><span class="nv"> </span><span class="s">is</span><span class="nv"> </span><span class="s">CPC</span><span class="nv"> </span><span class="cp">{{</span> <span class="nv">my_cpc_name</span> <span class="cp">}}</span><span class="s">&quot;</span>
  <span class="nt">register</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">cpc1</span>

<span class="p p-Indicator">-</span> <span class="nt">name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">Upgrade the SE firmware and return CPC facts</span>
  <span class="nt">zhmc_cpc</span><span class="p">:</span>
    <span class="nt">hmc_host</span><span class="p">:</span> <span class="s">&quot;</span><span class="cp">{{</span> <span class="nv">my_hmc_host</span> <span class="cp">}}</span><span class="s">&quot;</span>
    <span class="nt">hmc_auth</span><span class="p">:</span> <span class="s">&quot;</span><span class="cp">{{</span> <span class="nv">my_hmc_auth</span> <span class="cp">}}</span><span class="s">&quot;</span>
    <span class="nt">name</span><span class="p">:</span> <span class="s">&quot;</span><span class="cp">{{</span> <span class="nv">my_cpc_name</span> <span class="cp">}}</span><span class="s">&quot;</span>
    <span class="nt">state</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">upgrade</span>
    <span class="nt">bundle_level</span><span class="p">:</span> <span class="s">&quot;S71&quot;</span>
    <span class="nt">upgrade_timeout</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">10800</span>
  <span class="nt">register</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">cpc1</span>
</pre></div>
</div>
</div>
<div class="section" id="return-values">
<h2><a class="toc-backref" href="#id5">Return Values</a><a class="headerlink" href="#return-values" title="Permalink to this headline">¶</a></h2>
<dl>
<dt>changed</dt><dd><p>Indicates if any change has been made by the module. For <code class="docutils literal notranslate"><span class="pre">state=facts</span></code>, always will be false.</p>
<div class="line-block">
<div class="line"><strong>returned</strong>: always</div>
<div class="line"><strong>type</strong>: bool</div>
</div>
</dd>
<dt>msg</dt><dd><p>An error message that describes the failure.</p>
<div class="line-block">
<div class="line"><strong>returned</strong>: failure</div>
<div class="line"><strong>type</strong>: str</div>
</div>
</dd>
<dt>cpc</dt><dd><p>For <code class="docutils literal notranslate"><span class="pre">state=inactive</span></code>, an empty dictionary.</p>
<p>For <code class="docutils literal notranslate"><span class="pre">state=active|set|facts|upgrade</span></code>, the resource properties of the CPC after after any specified updates have been applied, and its adapters, partitions, and storage groups.</p>
<div class="line-block">
<div class="line"><strong>returned</strong>: success</div>
<div class="line"><strong>type</strong>: dict</div>
<div class="line"><strong>sample</strong>:</div>
</div>
<blockquote>
<div><div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
    <span class="nt">&quot;adapters&quot;</span><span class="p">:</span> <span class="p">[</span>
        <span class="p">{</span>
            <span class="nt">&quot;adapter-family&quot;</span><span class="p">:</span> <span class="s2">&quot;ficon&quot;</span><span class="p">,</span>
            <span class="nt">&quot;adapter-id&quot;</span><span class="p">:</span> <span class="s2">&quot;120&quot;</span><span class="p">,</span>
            <span class="nt">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;FCP_120_SAN1_02&quot;</span><span class="p">,</span>
            <span class="nt">&quot;object-uri&quot;</span><span class="p">:</span> <span class="s2">&quot;/api/adapters/dfb2147a-e578-11e8-a87c-00106f239c31&quot;</span><span class="p">,</span>
            <span class="nt">&quot;status&quot;</span><span class="p">:</span> <span class="s2">&quot;active&quot;</span><span class="p">,</span>
            <span class="nt">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;fcp&quot;</span>
        <span class="p">},</span>
        <span class="p">{</span>
            <span class="nt">&quot;adapter-family&quot;</span><span class="p">:</span> <span class="s2">&quot;osa&quot;</span><span class="p">,</span>
            <span class="nt">&quot;adapter-id&quot;</span><span class="p">:</span> <span class="s2">&quot;10c&quot;</span><span class="p">,</span>
            <span class="nt">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;OSM1&quot;</span><span class="p">,</span>
            <span class="nt">&quot;object-uri&quot;</span><span class="p">:</span> <span class="s2">&quot;/api/adapters/ddde026c-e578-11e8-a87c-00106f239c31&quot;</span><span class="p">,</span>
            <span class="nt">&quot;status&quot;</span><span class="p">:</span> <span class="s2">&quot;active&quot;</span><span class="p">,</span>
            <span class="nt">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;osm&quot;</span>
        <span class="p">}</span>
    <span class="p">],</span>
    <span class="nt">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;CPCA&quot;</span><span class="p">,</span>
    <span class="nt">&quot;partitions&quot;</span><span class="p">:</span> <span class="p">[</span>
        <span class="p">{</span>
            <span class="nt">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;PART1&quot;</span><span class="p">,</span>
            <span class="nt">&quot;object-uri&quot;</span><span class="p">:</span> <span class="s2">&quot;/api/partitions/c44338de-351b-11e9-9fbb-00106f239d19&quot;</span><span class="p">,</span>
            <span class="nt">&quot;status&quot;</span><span class="p">:</span> <span class="s2">&quot;stopped&quot;</span><span class="p">,</span>
            <span class="nt">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;linux&quot;</span>
        <span class="p">},</span>
        <span class="p">{</span>
            <span class="nt">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;PART2&quot;</span><span class="p">,</span>
            <span class="nt">&quot;object-uri&quot;</span><span class="p">:</span> <span class="s2">&quot;/api/partitions/6a46d18a-cf79-11e9-b447-00106f239d19&quot;</span><span class="p">,</span>
            <span class="nt">&quot;status&quot;</span><span class="p">:</span> <span class="s2">&quot;active&quot;</span><span class="p">,</span>
            <span class="nt">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;ssc&quot;</span>
        <span class="p">}</span>
    <span class="p">],</span>
    <span class="nt">&quot;storage-groups&quot;</span><span class="p">:</span> <span class="p">[</span>
        <span class="p">{</span>
            <span class="nt">&quot;cpc-uri&quot;</span><span class="p">:</span> <span class="s2">&quot;/api/cpcs/66942455-4a14-3f99-8904-3e7ed5ca28d7&quot;</span><span class="p">,</span>
            <span class="nt">&quot;fulfillment-state&quot;</span><span class="p">:</span> <span class="s2">&quot;complete&quot;</span><span class="p">,</span>
            <span class="nt">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;CPCA_SG_PART1&quot;</span><span class="p">,</span>
            <span class="nt">&quot;object-uri&quot;</span><span class="p">:</span> <span class="s2">&quot;/api/storage-groups/58e41a42-20a6-11e9-8dfc-00106f239c31&quot;</span><span class="p">,</span>
            <span class="nt">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;fcp&quot;</span>
        <span class="p">},</span>
        <span class="p">{</span>
            <span class="nt">&quot;cpc-uri&quot;</span><span class="p">:</span> <span class="s2">&quot;/api/cpcs/66942455-4a14-3f99-8904-3e7ed5ca28d7&quot;</span><span class="p">,</span>
            <span class="nt">&quot;fulfillment-state&quot;</span><span class="p">:</span> <span class="s2">&quot;complete&quot;</span><span class="p">,</span>
            <span class="nt">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;CPCA_SG_PART2&quot;</span><span class="p">,</span>
            <span class="nt">&quot;object-uri&quot;</span><span class="p">:</span> <span class="s2">&quot;/api/storage-groups/4947c6d0-f433-11ea-8f73-00106f239d19&quot;</span><span class="p">,</span>
            <span class="nt">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;fcp&quot;</span>
        <span class="p">}</span>
    <span class="p">],</span>
    <span class="nt">&quot;{property}&quot;</span><span class="p">:</span> <span class="s2">&quot;... more properties ... &quot;</span>
<span class="p">}</span>
</pre></div>
</div>
</div></blockquote>
<dl>
<dt>name</dt><dd><p>CPC name</p>
<div class="line-block">
<div class="line"><strong>type</strong>: str</div>
</div>
</dd>
<dt>{property}</dt><dd><p>Additional properties of the CPC, as described in the data model of the ‘CPC’ object in the :term:`HMC API` book. The property names have hyphens (-) as described in that book.</p>
<div class="line-block">
<div class="line"><strong>type</strong>: raw</div>
</div>
</dd>
<dt>adapters</dt><dd><p>The adapters of the CPC, with a subset of their properties. For details, see the :term:`HMC API` book.</p>
<div class="line-block">
<div class="line"><strong>type</strong>: list</div>
<div class="line"><strong>elements</strong>: dict</div>
</div>
<dl>
<dt>name</dt><dd><p>Adapter name</p>
<div class="line-block">
<div class="line"><strong>type</strong>: str</div>
</div>
</dd>
<dt>object-uri</dt><dd><p>Canonical URI of the adapter</p>
<div class="line-block">
<div class="line"><strong>type</strong>: str</div>
</div>
</dd>
<dt>adapter-id</dt><dd><p>Adapter ID (PCHID)</p>
<div class="line-block">
<div class="line"><strong>type</strong>: str</div>
</div>
</dd>
<dt>type</dt><dd><p>Adapter type</p>
<div class="line-block">
<div class="line"><strong>type</strong>: str</div>
</div>
</dd>
<dt>adapter-family</dt><dd><p>Adapter family</p>
<div class="line-block">
<div class="line"><strong>type</strong>: str</div>
</div>
</dd>
<dt>status</dt><dd><p>Status of the adapter</p>
<div class="line-block">
<div class="line"><strong>type</strong>: str</div>
</div>
</dd>
</dl>
</dd>
<dt>partitions</dt><dd><p>The defined partitions of the CPC, with a subset of their properties. For details, see the :term:`HMC API` book.</p>
<div class="line-block">
<div class="line"><strong>type</strong>: list</div>
<div class="line"><strong>elements</strong>: dict</div>
</div>
<dl>
<dt>name</dt><dd><p>Partition name</p>
<div class="line-block">
<div class="line"><strong>type</strong>: str</div>
</div>
</dd>
<dt>object-uri</dt><dd><p>Canonical URI of the partition</p>
<div class="line-block">
<div class="line"><strong>type</strong>: str</div>
</div>
</dd>
<dt>type</dt><dd><p>Type of the partition</p>
<div class="line-block">
<div class="line"><strong>type</strong>: str</div>
</div>
</dd>
<dt>status</dt><dd><p>Status of the partition</p>
<div class="line-block">
<div class="line"><strong>type</strong>: str</div>
</div>
</dd>
</dl>
</dd>
<dt>storage-groups</dt><dd><p>The storage groups associated with the CPC, with a subset of their properties. For details, see the :term:`HMC API` book.</p>
<div class="line-block">
<div class="line"><strong>type</strong>: list</div>
<div class="line"><strong>elements</strong>: dict</div>
</div>
<dl>
<dt>name</dt><dd><p>Storage group name</p>
<div class="line-block">
<div class="line"><strong>type</strong>: str</div>
</div>
</dd>
<dt>object-uri</dt><dd><p>Canonical URI of the storage group</p>
<div class="line-block">
<div class="line"><strong>type</strong>: str</div>
</div>
</dd>
<dt>type</dt><dd><p>Storage group type</p>
<div class="line-block">
<div class="line"><strong>type</strong>: str</div>
</div>
</dd>
<dt>fulfillment-status</dt><dd><p>Fulfillment status of the storage group</p>
<div class="line-block">
<div class="line"><strong>type</strong>: str</div>
</div>
</dd>
<dt>cpc-uri</dt><dd><p>Canonical URI of the associated CPC</p>
<div class="line-block">
<div class="line"><strong>type</strong>: str</div>
</div>
</dd>
</dl>
</dd>
</dl>
</dd>
</dl>
</div>
</div>


           </div>
           
          </div>
          <footer>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright IBM Corp. 2020, 2023

    </p>
  </div> 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>