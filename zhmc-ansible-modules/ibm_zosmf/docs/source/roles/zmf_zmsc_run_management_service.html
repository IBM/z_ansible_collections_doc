<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.18.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>zmf_zmsc_run_management_service – Role runs a z/OS management service &mdash; Red Hat Ansible Certified Content for IBM Z  documentation</title>
      <link rel="stylesheet" href="../../../../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../../../../_static/css/theme.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="../../../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script src="../../../../_static/jquery.js"></script>
        <script src="../../../../_static/_sphinx_javascript_frameworks_compat.js"></script>
        <script data-url_root="../../../../" id="documentation_options" src="../../../../_static/documentation_options.js"></script>
        <script src="../../../../_static/doctools.js"></script>
        <script src="../../../../_static/sphinx_highlight.js"></script>
    <script src="../../../../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../../../../genindex.html" />
    <link rel="search" title="Search" href="../../../../search.html" />
    <link rel="next" title="Z HMC" href="../../../../zhmc-ansible-modules/docs/ansible_content.html" />
    <link rel="prev" title="zmf_workflow_complete – Role completes a z/OS workflow" href="zmf_workflow_complete.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../../../../index.html" class="icon icon-home">
            Red Hat Ansible Certified Content for IBM Z
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Getting Started</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../../requirements/requirements.html">Requirements</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../installation/installation.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../playbooks/playbooks.html">Playbooks</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Ansible Content</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../../../ibm_zos_core/docs/ansible_content.html">z/OS core</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../ibm_zos_cics/docs/ansible_content.html">z/OS CICS</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../ibm_zos_ims/docs/ansible_content.html">z/OS IMS</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../ibm_zos_sysauto/docs/ansible_content.html">z/OS Sys Auto</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../../ansible_content.html">z/OS z/OSMF</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../modules.html">Modules</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="../roles.html">Roles</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="zmf_cpm_create_software_instance.html">zmf_cpm_create_software_instance – Role creates a z/OS software instance</a></li>
<li class="toctree-l3"><a class="reference internal" href="zmf_cpm_get_software_instance.html">zmf_cpm_get_software_instance – Role get specific z/OS software instance</a></li>
<li class="toctree-l3"><a class="reference internal" href="zmf_cpm_list_software_templates.html">zmf_cpm_list_software_templates – Role lists all published z/OS software templates</a></li>
<li class="toctree-l3"><a class="reference internal" href="zmf_cpm_manage_software_instance.html">zmf_cpm_manage_software_instance – Role manages a provisioned z/OS software instance</a></li>
<li class="toctree-l3"><a class="reference internal" href="zmf_cpm_provision_software_service.html">zmf_cpm_provision_software_service – Role provisions a z/OS software service</a></li>
<li class="toctree-l3"><a class="reference internal" href="zmf_cpm_remove_software_instance.html">zmf_cpm_remove_software_instance – Role removes a z/OS software instance</a></li>
<li class="toctree-l3"><a class="reference internal" href="zmf_swmgmt_identify_missing_critical_updates.html">zmf_swmgmt_identify_missing_critical_updates – Identify Missing Critical Software Updates for a Software Instance</a></li>
<li class="toctree-l3"><a class="reference internal" href="zmf_swmgmt_identify_missing_fixcat_updates.html">zmf_swmgmt_identify_missing_fixcat_updates – Identify Missing Fixcat Software Updates for a Software Instance</a></li>
<li class="toctree-l3"><a class="reference internal" href="zmf_swmgmt_search_software_updates.html">zmf_swmgmt_search_software_updates – Search a Software Instance for Software Updates</a></li>
<li class="toctree-l3"><a class="reference internal" href="zmf_workflow_complete.html">zmf_workflow_complete – Role completes a z/OS workflow</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">zmf_zmsc_run_management_service – Role runs a z/OS management service</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#synopsis">Synopsis</a></li>
<li class="toctree-l4"><a class="reference internal" href="#variables">Variables</a></li>
<li class="toctree-l4"><a class="reference internal" href="#examples">Examples</a></li>
<li class="toctree-l4"><a class="reference internal" href="#notes">Notes</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../../zhmc-ansible-modules/docs/ansible_content.html">Z HMC</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Release Notes</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../../release/release.html">Releases</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Troubleshooting</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../../troubleshooting/errorsandmessages.html">Errors and Messages</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../troubleshooting/errorsandmessages.html#troubleshooting-collections">Troubleshooting Collections</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">FAQs</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../../faqs/faqs.html">General</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../faqs/faqs.html#modules-playbooks">Modules, Playbooks</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../faqs/faqs.html#support">Support</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../faqs/faqs.html#community">Community</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../faqs/faqs.html#others">Others</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Reference</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../../reference/documentation.html">Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../reference/community.html">Contributing</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../reference/helpful_links.html">Helpful Links</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../../../index.html">Red Hat Ansible Certified Content for IBM Z</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../../../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="../../ansible_content.html">IBM z/OSMF</a></li>
          <li class="breadcrumb-item"><a href="../roles.html">Roles</a></li>
      <li class="breadcrumb-item active">zmf_zmsc_run_management_service – Role runs a z/OS management service</li>

  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="zmf-zmsc-run-management-service-role-runs-a-z-os-management-service">
<span id="zmf-zmsc-run-management-service-module"></span><h1>zmf_zmsc_run_management_service – Role runs a z/OS management service<a class="headerlink" href="#zmf-zmsc-run-management-service-role-runs-a-z-os-management-service" title="Permalink to this heading"></a></h1>
<nav class="contents local" id="contents">
<ul class="simple">
<li><p><a class="reference internal" href="#synopsis" id="id1">Synopsis</a></p></li>
<li><p><a class="reference internal" href="#variables" id="id2">Variables</a></p></li>
<li><p><a class="reference internal" href="#examples" id="id3">Examples</a></p></li>
<li><p><a class="reference internal" href="#notes" id="id4">Notes</a></p></li>
</ul>
</nav>
<section id="synopsis">
<h2><a class="toc-backref" href="#id1" role="doc-backlink">Synopsis</a><a class="headerlink" href="#synopsis" title="Permalink to this heading"></a></h2>
<ul class="simple">
<li><p>The <strong>IBM z/OSMF collection</strong> provides an Ansible role, referred to as <strong>zmf_zmsc_run_management_service</strong>, to run a z/OS management service published in <strong>z/OS Management Services Catalog</strong>.</p></li>
<li><p>Management Service referenced by playbook must be published in <em>z/OS Management Services Catalog</em>.</p></li>
<li><p>This role will generate a unique JSON file that holds service instance information. The file location is in following format, <code class="docutils literal notranslate"><span class="pre">&lt;instance_record_dir&gt;/&lt;catalog_service_name&gt;-&lt;instance</span> <span class="pre">objectId&gt;.json</span></code></p></li>
</ul>
</section>
<section id="variables">
<h2><a class="toc-backref" href="#id2" role="doc-backlink">Variables</a><a class="headerlink" href="#variables" title="Permalink to this heading"></a></h2>
<dl>
<dt>zmf_host</dt><dd><p>Hostname of the z/OSMF server, specified in the inventory file or vars file.</p>
<div class="line-block">
<div class="line"><strong>required</strong>: True</div>
<div class="line"><strong>type</strong>: str</div>
</div>
</dd>
<dt>zmf_port</dt><dd><p>Port number of the z/OSMF server. If z/OSMF is not using the default port, you need to specify value for this parameter in the inventory file or vars file.</p>
<div class="line-block">
<div class="line"><strong>required</strong>: False</div>
<div class="line"><strong>type</strong>: str</div>
<div class="line"><strong>default</strong>: 443</div>
</div>
</dd>
<dt>zmf_user</dt><dd><p>User name to be used for authenticating with the z/OSMF server.</p>
<p>This variable can be specified in the inventory file or vars file, or prompted when playbook is run.</p>
<div class="line-block">
<div class="line"><strong>required</strong>: True</div>
<div class="line"><strong>type</strong>: str</div>
</div>
</dd>
<dt>zmf_password</dt><dd><p>Password to be used for authenticating with z/OSMF server.</p>
<p>This variable can be specified in the inventory file or vars file, or prompted when playbook is run.</p>
<div class="line-block">
<div class="line"><strong>required</strong>: True</div>
<div class="line"><strong>type</strong>: str</div>
</div>
</dd>
<dt>instance_record_dir</dt><dd><p>Directory path that the run management service role uses to capture various information (in JSON format) about the service instance.</p>
<p>On many system default value <code class="docutils literal notranslate"><span class="pre">&quot;/tmp&quot;</span></code> used for this variable may not be acceptable because <code class="docutils literal notranslate"><span class="pre">&quot;/tmp&quot;</span></code> directory can be transient on the system. In such cases it is recommended to specify non-default value for this variable. This variable can be specified in the inventory file or vars file.</p>
<div class="line-block">
<div class="line"><strong>required</strong>: False</div>
<div class="line"><strong>type</strong>: str</div>
<div class="line"><strong>default</strong>: /tmp</div>
</div>
</dd>
<dt>catalog_service_name</dt><dd><p>Service name of the management service to be run.</p>
<div class="line-block">
<div class="line"><strong>required</strong>: True</div>
<div class="line"><strong>type</strong>: str</div>
</div>
</dd>
<dt>category_name</dt><dd><p>Category name associated with the management service to be run. If there after are multiple managment services with same name, this parameter is required to uniquely identify management service to be run.</p>
<div class="line-block">
<div class="line"><strong>required</strong>: False</div>
<div class="line"><strong>type</strong>: str</div>
</div>
</dd>
<dt>change_record_number</dt><dd><p>Change record number associated with the change being performed by management service. This information is required when z/OS Management Service Catalog is configured to require change record number to run any management service.</p>
<div class="line-block">
<div class="line"><strong>required</strong>: False</div>
<div class="line"><strong>type</strong>: str</div>
</div>
</dd>
<dt>job_statement</dt><dd><p>Job statement to be used when running a management service.</p>
<div class="line-block">
<div class="line"><strong>required</strong>: False</div>
<div class="line"><strong>type</strong>: str</div>
</div>
</dd>
<dt>system_nickname</dt><dd><p>System nickname as specified in the z/OSMF Systems table.</p>
<p>If this variable is not specified, management service will run on the system where z/OSMF is currently running.</p>
<div class="line-block">
<div class="line"><strong>required</strong>: False</div>
<div class="line"><strong>type</strong>: str</div>
</div>
</dd>
<dt>input_vars</dt><dd><p>Input variable names and values for the management service to be run.</p>
<p>This variable is required if management service expects specific inputs from user. This is a json variable and needs to be in following format, <code class="docutils literal notranslate"><span class="pre">{</span> <span class="pre">&quot;var1&quot;:&quot;value1&quot;,&quot;var2&quot;:&quot;value2&quot;,...}</span></code></p>
<div class="line-block">
<div class="line"><strong>required</strong>: False</div>
<div class="line"><strong>type</strong>: json</div>
</div>
</dd>
<dt>api_polling_retry_count</dt><dd><p>Total retry attempts allowed before the role exits with failure, waiting on the instance action to complete.</p>
<p>This variable can be specified in the inventory file or vars file.</p>
<div class="line-block">
<div class="line"><strong>required</strong>: False</div>
<div class="line"><strong>type</strong>: int</div>
<div class="line"><strong>default</strong>: 50</div>
</div>
</dd>
<dt>api_polling_interval_seconds</dt><dd><p>Interval time (in seconds) for each polling request.</p>
<p>This variable can be specified in the inventory file or vars file.</p>
<div class="line-block">
<div class="line"><strong>required</strong>: False</div>
<div class="line"><strong>type</strong>: int</div>
<div class="line"><strong>default</strong>: 10</div>
</div>
</dd>
</dl>
</section>
<section id="examples">
<h2><a class="toc-backref" href="#id3" role="doc-backlink">Examples</a><a class="headerlink" href="#examples" title="Permalink to this heading"></a></h2>
<div class="highlight-yaml+jinja notranslate"><div class="highlight"><pre><span></span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Run z/OS Management Service</span>
<span class="w">  </span><span class="nt">hosts</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">sampleHost</span>
<span class="w">  </span><span class="nt">gather_facts</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">no</span>
<span class="w">  </span><span class="nt">collections</span><span class="p">:</span>
<span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">ibm.ibm_zosmf</span>
<span class="w">  </span><span class="nt">tasks</span><span class="p">:</span>
<span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">include_module</span><span class="p">:</span>
<span class="w">        </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">zmf_zmsc_run_management_service</span>
<span class="w">      </span><span class="nt">vars</span><span class="p">:</span>
<span class="w">        </span><span class="nt">catalog_service_namme</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;&lt;fill-me-service-name&gt;&quot;</span>
<span class="w">        </span><span class="nt">category_name</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;&lt;optional-category-name&gt;&quot;</span>
<span class="w">        </span><span class="nt">change_record_number</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;&lt;optional-change_record_number&gt;&quot;</span>
<span class="w">        </span><span class="nt">job_statement</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;&lt;optional-job_statement&gt;&quot;</span>
<span class="w">        </span><span class="nt">systems_name</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;&lt;optional-system-name&gt;&quot;</span>
<span class="w">        </span><span class="nt">input_vars</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;&lt;optional-input-vars&gt;&quot;</span>
</pre></div>
</div>
</section>
<section id="notes">
<h2><a class="toc-backref" href="#id4" role="doc-backlink">Notes</a><a class="headerlink" href="#notes" title="Permalink to this heading"></a></h2>
<div class="admonition note">
<p class="admonition-title">Note</p>
<ul class="simple">
<li><p>The given example assumes that you have an inventory file <em>inventory.yml</em> and host vars <em>sampleHost.yml</em> with appropriate values to identify the target z/OSMF server end point.</p></li>
<li><p>When playbooks completes, a message shown in following example is displayed, <code class="docutils literal notranslate"><span class="pre">&quot;msg&quot;:</span> <span class="pre">&quot;Instance</span> <span class="pre">record</span> <span class="pre">saved</span> <span class="pre">at:</span> <span class="pre">/tmp/xxx/xxx.json&quot;</span></code>. This message includes a file path and file name where instance specific information is returned.</p></li>
</ul>
</div>
</section>
</section>


           </div>
          </div>
          <footer>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright IBM Corp. 2020, 2023.</p>
  </div>

   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>