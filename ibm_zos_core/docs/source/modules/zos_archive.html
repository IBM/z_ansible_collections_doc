

<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="../../../../">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>zos_archive – Archive files and data sets on z/OS. &mdash; Red Hat Ansible Certified Content for IBM Z  documentation</title>
      <link rel="stylesheet" type="text/css" href="../../../../_static/pygments.css?v=b86133f3" />
      <link rel="stylesheet" type="text/css" href="../../../../_static/css/theme.css?v=e59714d7" />
      <link rel="stylesheet" type="text/css" href="../../../../_static/copybutton.css?v=76b2166b" />
      <link rel="stylesheet" type="text/css" href="../../../../_static/my_theme.css?v=a0fc712e" />
      <link rel="stylesheet" type="text/css" href="../../../../_static/sphinx-design.min.css?v=95c83b7e" />
      <link rel="stylesheet" type="text/css" href="../../../../_static/css/table.css?v=fdc28d34" />
      <link rel="stylesheet" type="text/css" href="../../../../_static/css/custom.css?v=4182aadc" />

  
      <script src="../../../../_static/jquery.js?v=5d32c60e"></script>
      <script src="../../../../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
      <script src="../../../../_static/documentation_options.js?v=5929fcd5"></script>
      <script src="../../../../_static/doctools.js?v=9a2dae69"></script>
      <script src="../../../../_static/sphinx_highlight.js?v=dc90522c"></script>
      <script src="../../../../_static/clipboard.min.js?v=a7894cd8"></script>
      <script src="../../../../_static/copybutton.js?v=f281be69"></script>
      <script src="../../../../_static/design-tabs.js?v=f930bc37"></script>
    <script src="../../../../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../../../../genindex.html" />
    <link rel="search" title="Search" href="../../../../search.html" />
    <link rel="next" title="zos_backup_restore – Backup and restore data sets and volumes" href="zos_backup_restore.html" />
    <link rel="prev" title="zos_apf – Add or remove libraries to Authorized Program Facility (APF)" href="zos_apf.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../../../../index.html" class="icon icon-home">
            Red Hat Ansible Certified Content for IBM Z
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Overview</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../../overview/ansible-for-ibm-z.html">Ansible for IBM Z</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../overview/ansible-glossary.html">Ansible for IBM Z Glossary</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../overview/ansible-playbooks.html">Ansible for IBM Z Playbooks</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../overview/ansible-for-ztrial.html">Ansible for IBM Z Trial</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Installation &amp; Execution</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../../requirements/software-requirements.html">Software Requirements</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../installation/software-installation.html">Software Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../configuration/software-configuration.html">Software Configuration</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Collections &amp; Content</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="../../../../collections_content/collections.html">Collections  <svg version="1.1" width="1.0em" height="1.0em" class="sd-octicon sd-octicon-rocket" viewBox="0 0 16 16" aria-hidden="true"><path d="M14.064 0h.186C15.216 0 16 .784 16 1.75v.186a8.752 8.752 0 0 1-2.564 6.186l-.458.459c-.314.314-.641.616-.979.904v3.207c0 .608-.315 1.172-.833 1.49l-2.774 1.707a.749.749 0 0 1-1.11-.418l-.954-3.102a1.214 1.214 0 0 1-.145-.125L3.754 9.816a1.218 1.218 0 0 1-.124-.145L.528 8.717a.749.749 0 0 1-.418-1.11l1.71-2.774A1.748 1.748 0 0 1 3.31 4h3.204c.288-.338.59-.665.904-.979l.459-.458A8.749 8.749 0 0 1 14.064 0ZM8.938 3.623h-.002l-.458.458c-.76.76-1.437 1.598-2.02 2.5l-1.5 2.317 2.143 2.143 2.317-1.5c.902-.583 1.74-1.26 2.499-2.02l.459-.458a7.25 7.25 0 0 0 2.123-5.127V1.75a.25.25 0 0 0-.25-.25h-.186a7.249 7.249 0 0 0-5.125 2.123ZM3.56 14.56c-.732.732-2.334 1.045-3.005 1.148a.234.234 0 0 1-.201-.064.234.234 0 0 1-.064-.201c.103-.671.416-2.273 1.15-3.003a1.502 1.502 0 1 1 2.12 2.12Zm6.94-3.935c-.088.06-.177.118-.266.175l-2.35 1.521.548 1.783 1.949-1.2a.25.25 0 0 0 .119-.213ZM3.678 8.116 5.2 5.766c.058-.09.117-.178.176-.266H3.309a.25.25 0 0 0-.213.119l-1.2 1.95ZM12 5a1 1 0 1 1-2 0 1 1 0 0 1 2 0Z"></path></svg></a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="../ansible_content.html">z/OS Core</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="../plugins.html">Plugins</a></li>
<li class="toctree-l3 current"><a class="reference internal" href="../modules.html">Modules</a><ul class="current">
<li class="toctree-l4"><a class="reference internal" href="zos_apf.html">zos_apf – Add or remove libraries to Authorized Program Facility (APF)</a></li>
<li class="toctree-l4 current"><a class="current reference internal" href="#">zos_archive – Archive files and data sets on z/OS.</a></li>
<li class="toctree-l4"><a class="reference internal" href="zos_backup_restore.html">zos_backup_restore – Backup and restore data sets and volumes</a></li>
<li class="toctree-l4"><a class="reference internal" href="zos_blockinfile.html">zos_blockinfile – Manage block of multi-line textual data on z/OS</a></li>
<li class="toctree-l4"><a class="reference internal" href="zos_copy.html">zos_copy – Copy data to z/OS</a></li>
<li class="toctree-l4"><a class="reference internal" href="zos_data_set.html">zos_data_set – Manage data sets</a></li>
<li class="toctree-l4"><a class="reference internal" href="zos_encode.html">zos_encode – Perform encoding operations.</a></li>
<li class="toctree-l4"><a class="reference internal" href="zos_fetch.html">zos_fetch – Fetch data from z/OS</a></li>
<li class="toctree-l4"><a class="reference internal" href="zos_find.html">zos_find – Find matching data sets</a></li>
<li class="toctree-l4"><a class="reference internal" href="zos_gather_facts.html">zos_gather_facts – Gather z/OS system facts.</a></li>
<li class="toctree-l4"><a class="reference internal" href="zos_job_output.html">zos_job_output – Display job output</a></li>
<li class="toctree-l4"><a class="reference internal" href="zos_job_query.html">zos_job_query – Query job status</a></li>
<li class="toctree-l4"><a class="reference internal" href="zos_job_submit.html">zos_job_submit – Submit JCL</a></li>
<li class="toctree-l4"><a class="reference internal" href="zos_lineinfile.html">zos_lineinfile – Manage textual data on z/OS</a></li>
<li class="toctree-l4"><a class="reference internal" href="zos_mount.html">zos_mount – Mount a z/OS file system.</a></li>
<li class="toctree-l4"><a class="reference internal" href="zos_mvs_raw.html">zos_mvs_raw – Run a z/OS program.</a></li>
<li class="toctree-l4"><a class="reference internal" href="zos_operator.html">zos_operator – Execute operator command</a></li>
<li class="toctree-l4"><a class="reference internal" href="zos_operator_action_query.html">zos_operator_action_query – Display messages requiring action</a></li>
<li class="toctree-l4"><a class="reference internal" href="zos_ping.html">zos_ping – Ping z/OS and check dependencies.</a></li>
<li class="toctree-l4"><a class="reference internal" href="zos_script.html">zos_script – Run scripts in z/OS</a></li>
<li class="toctree-l4"><a class="reference internal" href="zos_stat.html">zos_stat – Retrieve facts from MVS data sets, USS files, aggregates and generation data groups</a></li>
<li class="toctree-l4"><a class="reference internal" href="zos_tso_command.html">zos_tso_command – Execute TSO commands</a></li>
<li class="toctree-l4"><a class="reference internal" href="zos_unarchive.html">zos_unarchive – Unarchive files and data sets in z/OS.</a></li>
<li class="toctree-l4"><a class="reference internal" href="zos_volume_init.html">zos_volume_init – Initialize volumes or minidisks.</a></li>
<li class="toctree-l4"><a class="reference internal" href="zos_zfs_resize.html">zos_zfs_resize – Resize a zfs data set.</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../filters.html">Filters</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../../../ibm_zos_cics/docs/ansible_content.html">z/OS CICS</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../ibm_zos_ims/docs/ansible_content.html">z/OS IMS</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../ibm_zos_sysauto/docs/ansible_content.html">z/OS Sys Auto</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../ibm_zosmf/docs/ansible_content.html">z/OSMF</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../zhmc-ansible-modules/docs/ansible_content.html">Z HMC</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../../collections_content/collection-releases.html">Collection Releases</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../collections_content/collection-life-cycles.html">Collection Life Cycles</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Help &amp; Troubleshooting</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../../help/getting-support.html">Getting Support</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../help/faqs.html">Frequently Asked Questions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../help/helpful-links.html">Helpful links</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Contribution</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../../contribution/contributing.html">Contributing</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../../../index.html">Red Hat Ansible Certified Content for IBM Z</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../../../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="../../../../collections_content/collections.html">Collections  <svg version="1.1" width="1.0em" height="1.0em" class="sd-octicon sd-octicon-rocket" viewBox="0 0 16 16" aria-hidden="true"><path d="M14.064 0h.186C15.216 0 16 .784 16 1.75v.186a8.752 8.752 0 0 1-2.564 6.186l-.458.459c-.314.314-.641.616-.979.904v3.207c0 .608-.315 1.172-.833 1.49l-2.774 1.707a.749.749 0 0 1-1.11-.418l-.954-3.102a1.214 1.214 0 0 1-.145-.125L3.754 9.816a1.218 1.218 0 0 1-.124-.145L.528 8.717a.749.749 0 0 1-.418-1.11l1.71-2.774A1.748 1.748 0 0 1 3.31 4h3.204c.288-.338.59-.665.904-.979l.459-.458A8.749 8.749 0 0 1 14.064 0ZM8.938 3.623h-.002l-.458.458c-.76.76-1.437 1.598-2.02 2.5l-1.5 2.317 2.143 2.143 2.317-1.5c.902-.583 1.74-1.26 2.499-2.02l.459-.458a7.25 7.25 0 0 0 2.123-5.127V1.75a.25.25 0 0 0-.25-.25h-.186a7.249 7.249 0 0 0-5.125 2.123ZM3.56 14.56c-.732.732-2.334 1.045-3.005 1.148a.234.234 0 0 1-.201-.064.234.234 0 0 1-.064-.201c.103-.671.416-2.273 1.15-3.003a1.502 1.502 0 1 1 2.12 2.12Zm6.94-3.935c-.088.06-.177.118-.266.175l-2.35 1.521.548 1.783 1.949-1.2a.25.25 0 0 0 .119-.213ZM3.678 8.116 5.2 5.766c.058-.09.117-.178.176-.266H3.309a.25.25 0 0 0-.213.119l-1.2 1.95ZM12 5a1 1 0 1 1-2 0 1 1 0 0 1 2 0Z"></path></svg></a></li>
          <li class="breadcrumb-item"><a href="../ansible_content.html">z/OS Core</a></li>
          <li class="breadcrumb-item"><a href="../modules.html">Modules</a></li>
      <li class="breadcrumb-item active">zos_archive – Archive files and data sets on z/OS.</li>

  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="zos-archive-archive-files-and-data-sets-on-z-os">
<span id="zos-archive-module"></span><h1>zos_archive – Archive files and data sets on z/OS.<a class="headerlink" href="#zos-archive-archive-files-and-data-sets-on-z-os" title="Link to this heading"></a></h1>
<nav class="contents local" id="contents">
<ul class="simple">
<li><p><a class="reference internal" href="#synopsis" id="id1">Synopsis</a></p></li>
<li><p><a class="reference internal" href="#parameters" id="id2">Parameters</a></p></li>
<li><p><a class="reference internal" href="#attributes" id="id3">Attributes</a></p></li>
<li><p><a class="reference internal" href="#examples" id="id4">Examples</a></p></li>
<li><p><a class="reference internal" href="#notes" id="id5">Notes</a></p></li>
<li><p><a class="reference internal" href="#see-also" id="id6">See Also</a></p></li>
<li><p><a class="reference internal" href="#return-values" id="id7">Return Values</a></p></li>
</ul>
</nav>
<section id="synopsis">
<h2><a class="toc-backref" href="#id1" role="doc-backlink">Synopsis</a><a class="headerlink" href="#synopsis" title="Link to this heading"></a></h2>
<ul class="simple">
<li><p>Create or extend an archive on a remote z/OS system.</p></li>
<li><p>Sources for archiving must be on the remote z/OS system.</p></li>
<li><p>Supported sources are USS (UNIX System Services) or z/OS data sets.</p></li>
<li><p>The archive remains on the remote z/OS system.</p></li>
<li><p>For supported archive formats, see option <code class="docutils literal notranslate"><span class="pre">format</span></code>.</p></li>
</ul>
</section>
<section id="parameters">
<h2><a class="toc-backref" href="#id2" role="doc-backlink">Parameters</a><a class="headerlink" href="#parameters" title="Link to this heading"></a></h2>
<dl>
<dt>src</dt><dd><p>List of names or globs of UNIX System Services (USS) files, PS (sequential data sets), PDS, PDSE to compress or archive.</p>
<p>USS file paths should be absolute paths.</p>
<p>GDS relative notation is supported.</p>
<p>MVS data sets supported types are: <code class="docutils literal notranslate"><span class="pre">SEQ</span></code>, <code class="docutils literal notranslate"><span class="pre">PDS</span></code>, <code class="docutils literal notranslate"><span class="pre">PDSE</span></code>.</p>
<p>VSAMs are not supported.</p>
<p>GDS relative names are supported. e.g. <em>USER.GDG(-1</em>).</p>
<div class="line-block">
<div class="line"><strong>required</strong>: True</div>
<div class="line"><strong>type</strong>: list</div>
<div class="line"><strong>elements</strong>: str</div>
</div>
</dd>
<dt>format</dt><dd><p>The compression type and corresponding options to use when archiving data.</p>
<div class="line-block">
<div class="line"><strong>required</strong>: False</div>
<div class="line"><strong>type</strong>: dict</div>
</div>
<dl>
<dt>name</dt><dd><p>The compression format to use.</p>
<div class="line-block">
<div class="line"><strong>required</strong>: False</div>
<div class="line"><strong>type</strong>: str</div>
<div class="line"><strong>default</strong>: gz</div>
<div class="line"><strong>choices</strong>: bz2, gz, tar, zip, terse, xmit, pax</div>
</div>
</dd>
<dt>format_options</dt><dd><p>Options specific to a compression format.</p>
<div class="line-block">
<div class="line"><strong>required</strong>: False</div>
<div class="line"><strong>type</strong>: dict</div>
</div>
<dl>
<dt>terse_pack</dt><dd><p>Compression option for use with the terse format, <em>name=terse</em>.</p>
<p>Pack will compress records in a data set so that the output results in lossless data compression.</p>
<p>Spack will compress records in a data set so the output results in complex data compression.</p>
<p>Spack will produce smaller output and take approximately 3 times longer than pack compression.</p>
<div class="line-block">
<div class="line"><strong>required</strong>: False</div>
<div class="line"><strong>type</strong>: str</div>
<div class="line"><strong>choices</strong>: pack, spack</div>
</div>
</dd>
<dt>xmit_log_data_set</dt><dd><p>Provide the name of a data set to store xmit log output.</p>
<p>If the data set provided does not exist, the program will create it.</p>
<p>If the data set provided exists, the data set must have the following attributes: LRECL=255, BLKSIZE=3120, and RECFM=VB</p>
<p>When providing the <em>xmit_log_data_set</em> name, ensure there is adequate space.</p>
<div class="line-block">
<div class="line"><strong>required</strong>: False</div>
<div class="line"><strong>type</strong>: str</div>
</div>
</dd>
<dt>use_adrdssu</dt><dd><p>If set to true, the <code class="docutils literal notranslate"><span class="pre">zos_archive</span></code> module will use Data Facility Storage Management Subsystem data set services (DFSMSdss) program ADRDSSU to compress data sets into a portable format before using <code class="docutils literal notranslate"><span class="pre">xmit</span></code> or <code class="docutils literal notranslate"><span class="pre">terse</span></code>.</p>
<div class="line-block">
<div class="line"><strong>required</strong>: False</div>
<div class="line"><strong>type</strong>: bool</div>
<div class="line"><strong>default</strong>: False</div>
</div>
</dd>
</dl>
</dd>
</dl>
</dd>
<dt>dest</dt><dd><p>The remote absolute path or data set where the archive should be created.</p>
<p><em>dest</em> can be a USS file or MVS data set name.</p>
<p>If <em>dest</em> has missing parent directories, they will be created.</p>
<p>If <em>dest</em> is a nonexistent USS file, it will be created.</p>
<p>If <em>dest</em> is an existing file or data set and <em>force=true</em>, the existing <em>dest</em> will be deleted and recreated with attributes defined in the <em>dest_data_set</em> option or computed by the module.</p>
<p>If <em>dest</em> is an existing file or data set and <em>force=false</em> or not specified, the module exits with a note to the user.</p>
<p>Destination data set attributes can be set using <em>dest_data_set</em>.</p>
<p>Destination data set space will be calculated based on space of source data sets provided and/or found by expanding the pattern name. Calculating space can impact module performance. Specifying space attributes in the <em>dest_data_set</em> option will improve performance.</p>
<p>GDS relative names are supported. e.g. <em>USER.GDG(-1</em>).</p>
<div class="line-block">
<div class="line"><strong>required</strong>: True</div>
<div class="line"><strong>type</strong>: str</div>
</div>
</dd>
<dt>exclude</dt><dd><p>Remote absolute path, glob, or list of paths, globs, data set name patterns or generation data sets (GDSs) in relative notation for the file, files or data sets to exclude from src list and glob expansion.</p>
<p>Patterns (wildcards) can contain one of the following, <cite>?</cite>, <cite>*</cite>.</p>
<ul class="simple">
<li><p>matches everything.</p></li>
</ul>
<p>? matches any single character.</p>
<p>GDS relative names are supported. e.g. <em>USER.GDG(-1</em>).</p>
<div class="line-block">
<div class="line"><strong>required</strong>: False</div>
<div class="line"><strong>type</strong>: list</div>
<div class="line"><strong>elements</strong>: str</div>
</div>
</dd>
<dt>group</dt><dd><p>Name of the group that will own the archive file.</p>
<p>When left unspecified, it uses the current group of the current use unless you are root, in which case it can preserve the previous ownership.</p>
<p>This option is only applicable if <code class="docutils literal notranslate"><span class="pre">dest</span></code> is USS, otherwise ignored.</p>
<div class="line-block">
<div class="line"><strong>required</strong>: False</div>
<div class="line"><strong>type</strong>: str</div>
</div>
</dd>
<dt>mode</dt><dd><p>The permission of the destination archive file.</p>
<p>If <code class="docutils literal notranslate"><span class="pre">dest</span></code> is USS, this will act as Unix file mode, otherwise ignored.</p>
<p>It should be noted that modes are octal numbers. The user must either add a leading zero so that Ansible’s YAML parser knows it is an octal number (like <code class="docutils literal notranslate"><span class="pre">0644</span></code> or <code class="docutils literal notranslate"><span class="pre">01777</span></code>)or quote it (like <code class="docutils literal notranslate"><span class="pre">'644'</span></code> or <code class="docutils literal notranslate"><span class="pre">'1777'</span></code>) so Ansible receives a string and can do its own conversion from string into number. Giving Ansible a number without following one of these rules will end up with a decimal number which will have unexpected results.</p>
<p>The mode may also be specified as a symbolic mode (for example, ‘u+rwx’ or ‘u=rw,g=r,o=r’) or a special string ‘preserve’.</p>
<p><em>mode=preserve</em> means that the file will be given the same permissions as the src file.</p>
<div class="line-block">
<div class="line"><strong>required</strong>: False</div>
<div class="line"><strong>type</strong>: str</div>
</div>
</dd>
<dt>owner</dt><dd><p>Name of the user that should own the archive file, as would be passed to the chown command.</p>
<p>When left unspecified, it uses the current user unless you are root, in which case it can preserve the previous ownership.</p>
<p>This option is only applicable if <code class="docutils literal notranslate"><span class="pre">dest</span></code> is USS, otherwise ignored.</p>
<div class="line-block">
<div class="line"><strong>required</strong>: False</div>
<div class="line"><strong>type</strong>: str</div>
</div>
</dd>
<dt>remove</dt><dd><p>Remove any added source files , trees or data sets after module <a class="reference external" href="./zos_archive.html">zos_archive</a> adds them to the archive. Source files, trees and data sets are identified with option <em>src</em>.</p>
<div class="line-block">
<div class="line"><strong>required</strong>: False</div>
<div class="line"><strong>type</strong>: bool</div>
<div class="line"><strong>default</strong>: False</div>
</div>
</dd>
<dt>dest_data_set</dt><dd><p>Data set attributes to customize a <code class="docutils literal notranslate"><span class="pre">dest</span></code> data set to be archived into.</p>
<div class="line-block">
<div class="line"><strong>required</strong>: False</div>
<div class="line"><strong>type</strong>: dict</div>
</div>
<dl>
<dt>name</dt><dd><p>Desired name for destination dataset.</p>
<div class="line-block">
<div class="line"><strong>required</strong>: False</div>
<div class="line"><strong>type</strong>: str</div>
</div>
</dd>
<dt>type</dt><dd><p>Organization of the destination</p>
<div class="line-block">
<div class="line"><strong>required</strong>: False</div>
<div class="line"><strong>type</strong>: str</div>
<div class="line"><strong>default</strong>: seq</div>
<div class="line"><strong>choices</strong>: seq</div>
</div>
</dd>
<dt>space_primary</dt><dd><p>If the destination <em>dest</em> data set does not exist , this sets the primary space allocated for the data set.</p>
<p>The unit of space used is set using <em>space_type</em>.</p>
<div class="line-block">
<div class="line"><strong>required</strong>: False</div>
<div class="line"><strong>type</strong>: int</div>
</div>
</dd>
<dt>space_secondary</dt><dd><p>If the destination <em>dest</em> data set does not exist , this sets the secondary space allocated for the data set.</p>
<p>The unit of space used is set using <em>space_type</em>.</p>
<div class="line-block">
<div class="line"><strong>required</strong>: False</div>
<div class="line"><strong>type</strong>: int</div>
</div>
</dd>
<dt>space_type</dt><dd><p>If the destination data set does not exist, this sets the unit of measurement to use when defining primary and secondary space.</p>
<p>Valid units of size are <code class="docutils literal notranslate"><span class="pre">k</span></code>, <code class="docutils literal notranslate"><span class="pre">m</span></code>, <code class="docutils literal notranslate"><span class="pre">g</span></code>, <code class="docutils literal notranslate"><span class="pre">cyl</span></code>, and <code class="docutils literal notranslate"><span class="pre">trk</span></code>.</p>
<div class="line-block">
<div class="line"><strong>required</strong>: False</div>
<div class="line"><strong>type</strong>: str</div>
<div class="line"><strong>choices</strong>: k, m, g, cyl, trk</div>
</div>
</dd>
<dt>record_format</dt><dd><p>If the destination data set does not exist, this sets the format of the data set. (e.g <code class="docutils literal notranslate"><span class="pre">FB</span></code>)</p>
<p>Choices are case-sensitive.</p>
<div class="line-block">
<div class="line"><strong>required</strong>: False</div>
<div class="line"><strong>type</strong>: str</div>
<div class="line"><strong>choices</strong>: fb, vb, fba, vba, u</div>
</div>
</dd>
<dt>record_length</dt><dd><p>The length of each record in the data set, in bytes.</p>
<p>For variable data sets, the length must include the 4-byte prefix area.</p>
<p>Defaults vary depending on format: If FB/FBA 80, if VB/VBA 137, if U 0.</p>
<div class="line-block">
<div class="line"><strong>required</strong>: False</div>
<div class="line"><strong>type</strong>: int</div>
</div>
</dd>
<dt>block_size</dt><dd><p>The block size to use for the data set.</p>
<div class="line-block">
<div class="line"><strong>required</strong>: False</div>
<div class="line"><strong>type</strong>: int</div>
</div>
</dd>
<dt>directory_blocks</dt><dd><p>The number of directory blocks to allocate to the data set.</p>
<div class="line-block">
<div class="line"><strong>required</strong>: False</div>
<div class="line"><strong>type</strong>: int</div>
</div>
</dd>
<dt>sms_storage_class</dt><dd><p>The storage class for an SMS-managed dataset.</p>
<p>Required for SMS-managed datasets that do not match an SMS-rule.</p>
<p>Not valid for datasets that are not SMS-managed.</p>
<p>Note that all non-linear VSAM datasets are SMS-managed.</p>
<div class="line-block">
<div class="line"><strong>required</strong>: False</div>
<div class="line"><strong>type</strong>: str</div>
</div>
</dd>
<dt>sms_data_class</dt><dd><p>The data class for an SMS-managed dataset.</p>
<p>Optional for SMS-managed datasets that do not match an SMS-rule.</p>
<p>Not valid for datasets that are not SMS-managed.</p>
<p>Note that all non-linear VSAM datasets are SMS-managed.</p>
<div class="line-block">
<div class="line"><strong>required</strong>: False</div>
<div class="line"><strong>type</strong>: str</div>
</div>
</dd>
<dt>sms_management_class</dt><dd><p>The management class for an SMS-managed dataset.</p>
<p>Optional for SMS-managed datasets that do not match an SMS-rule.</p>
<p>Not valid for datasets that are not SMS-managed.</p>
<p>Note that all non-linear VSAM datasets are SMS-managed.</p>
<div class="line-block">
<div class="line"><strong>required</strong>: False</div>
<div class="line"><strong>type</strong>: str</div>
</div>
</dd>
</dl>
</dd>
<dt>tmp_hlq</dt><dd><p>Override the default high level qualifier (HLQ) for temporary data sets.</p>
<p>The default HLQ is the Ansible user used to execute the module and if that is not available, then the environment variable value <code class="docutils literal notranslate"><span class="pre">TMPHLQ</span></code> is used.</p>
<div class="line-block">
<div class="line"><strong>required</strong>: False</div>
<div class="line"><strong>type</strong>: str</div>
</div>
</dd>
<dt>force</dt><dd><p>If set to <code class="docutils literal notranslate"><span class="pre">true</span></code> and the remote file or data set <code class="docutils literal notranslate"><span class="pre">dest</span></code> will be deleted. Otherwise it will be created with the <code class="docutils literal notranslate"><span class="pre">dest_data_set</span></code> attributes or default values if <code class="docutils literal notranslate"><span class="pre">dest_data_set</span></code> is not specified.</p>
<p>If set to <code class="docutils literal notranslate"><span class="pre">false</span></code>, the file or data set will only be copied if the destination does not exist.</p>
<p>If set to <code class="docutils literal notranslate"><span class="pre">false</span></code> and destination exists, the module exits with a note to the user.</p>
<div class="line-block">
<div class="line"><strong>required</strong>: False</div>
<div class="line"><strong>type</strong>: bool</div>
<div class="line"><strong>default</strong>: False</div>
</div>
</dd>
</dl>
</section>
<section id="attributes">
<h2><a class="toc-backref" href="#id3" role="doc-backlink">Attributes</a><a class="headerlink" href="#attributes" title="Link to this heading"></a></h2>
<dl>
<dt>action</dt><dd><div class="line-block">
<div class="line"><strong>support</strong>: none</div>
<div class="line"><strong>description</strong>: Indicates this has a corresponding action plugin so some parts of the options can be executed on the controller.</div>
</div>
</dd>
<dt>async</dt><dd><div class="line-block">
<div class="line"><strong>support</strong>: full</div>
<div class="line"><strong>description</strong>: Supports being used with the <code class="docutils literal notranslate"><span class="pre">async</span></code> keyword.</div>
</div>
</dd>
<dt>check_mode</dt><dd><div class="line-block">
<div class="line"><strong>support</strong>: full</div>
<div class="line"><strong>description</strong>: Can run in check_mode and return changed status prediction without modifying target. If not supported, the action will be skipped.</div>
</div>
</dd>
</dl>
</section>
<section id="examples">
<h2><a class="toc-backref" href="#id4" role="doc-backlink">Examples</a><a class="headerlink" href="#examples" title="Link to this heading"></a></h2>
<div class="highlight-yaml+jinja notranslate"><div class="highlight"><pre><span></span><span class="c1"># Simple archive</span>
<span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Archive file into a tar</span>
<span class="w">  </span><span class="nt">zos_archive</span><span class="p">:</span>
<span class="w">    </span><span class="nt">src</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">/tmp/archive/foo.txt</span>
<span class="w">    </span><span class="nt">dest</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">/tmp/archive/foo_archive_test.tar</span>
<span class="w">    </span><span class="nt">format</span><span class="p">:</span>
<span class="w">      </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">tar</span>

<span class="c1"># Archive multiple files</span>
<span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Archive list of files into a zip</span>
<span class="w">  </span><span class="nt">zos_archive</span><span class="p">:</span>
<span class="w">    </span><span class="nt">src</span><span class="p">:</span>
<span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">/tmp/archive/foo.txt</span>
<span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">/tmp/archive/bar.txt</span>
<span class="w">    </span><span class="nt">dest</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">/tmp/archive/foo_bar_archive_test.zip</span>
<span class="w">    </span><span class="nt">format</span><span class="p">:</span>
<span class="w">    </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">zip</span>

<span class="c1"># Archive one data set into terse</span>
<span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Archive data set into a terse</span>
<span class="w">  </span><span class="nt">zos_archive</span><span class="p">:</span>
<span class="w">    </span><span class="nt">src</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;USER.ARCHIVE.TEST&quot;</span>
<span class="w">    </span><span class="nt">dest</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;USER.ARCHIVE.RESULT.TRS&quot;</span>
<span class="w">    </span><span class="nt">format</span><span class="p">:</span>
<span class="w">      </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">terse</span>

<span class="c1"># Use terse with different options</span>
<span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Archive data set into a terse, specify pack algorithm and use adrdssu</span>
<span class="w">  </span><span class="nt">zos_archive</span><span class="p">:</span>
<span class="w">    </span><span class="nt">src</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;USER.ARCHIVE.TEST&quot;</span>
<span class="w">    </span><span class="nt">dest</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;USER.ARCHIVE.RESULT.TRS&quot;</span>
<span class="w">    </span><span class="nt">format</span><span class="p">:</span>
<span class="w">      </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">terse</span>
<span class="w">      </span><span class="nt">format_options</span><span class="p">:</span>
<span class="w">        </span><span class="nt">terse_pack</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;spack&quot;</span>
<span class="w">        </span><span class="nt">use_adrdssu</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span>

<span class="c1"># Use a pattern to store</span>
<span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Archive data set pattern using xmit</span>
<span class="w">  </span><span class="nt">zos_archive</span><span class="p">:</span>
<span class="w">    </span><span class="nt">src</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;USER.ARCHIVE.*&quot;</span>
<span class="w">    </span><span class="nt">exclude_sources</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;USER.ARCHIVE.EXCLUDE.*&quot;</span>
<span class="w">    </span><span class="nt">dest</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;USER.ARCHIVE.RESULT.XMIT&quot;</span>
<span class="w">    </span><span class="nt">format</span><span class="p">:</span>
<span class="w">      </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">xmit</span>

<span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Archive multiple GDSs into a terse</span>
<span class="w">  </span><span class="nt">zos_archive</span><span class="p">:</span>
<span class="w">    </span><span class="nt">src</span><span class="p">:</span>
<span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="s">&quot;USER.GDG(0)&quot;</span>
<span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="s">&quot;USER.GDG(-1)&quot;</span>
<span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="s">&quot;USER.GDG(-2)&quot;</span>
<span class="w">    </span><span class="nt">dest</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;USER.ARCHIVE.RESULT.TRS&quot;</span>
<span class="w">    </span><span class="nt">format</span><span class="p">:</span>
<span class="w">      </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">terse</span>
<span class="w">      </span><span class="nt">format_options</span><span class="p">:</span>
<span class="w">        </span><span class="nt">use_adrdssu</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span>

<span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Archive multiple data sets into a new GDS</span>
<span class="w">  </span><span class="nt">zos_archive</span><span class="p">:</span>
<span class="w">    </span><span class="nt">src</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;USER.ARCHIVE.*&quot;</span>
<span class="w">    </span><span class="nt">dest</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;USER.GDG(+1)&quot;</span>
<span class="w">    </span><span class="nt">format</span><span class="p">:</span>
<span class="w">      </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">terse</span>
<span class="w">      </span><span class="nt">format_options</span><span class="p">:</span>
<span class="w">        </span><span class="nt">use_adrdssu</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span>
</pre></div>
</div>
</section>
<section id="notes">
<h2><a class="toc-backref" href="#id5" role="doc-backlink">Notes</a><a class="headerlink" href="#notes" title="Link to this heading"></a></h2>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This module does not perform a send or transmit operation to a remote node. If you want to transport the archive you can use zos_fetch to retrieve to the controller and then zos_copy or zos_unarchive for copying to a remote or send to the remote and then unpack the archive respectively.</p>
<p>When packing and using <code class="docutils literal notranslate"><span class="pre">use_adrdssu</span></code> flag the module will take up to two times the space indicated in <code class="docutils literal notranslate"><span class="pre">dest_data_set</span></code>.</p>
<p>tar, zip, bz2 and pax are archived using python <code class="docutils literal notranslate"><span class="pre">tarfile</span></code> library which uses the latest version available for each format, for compatibility when opening from system make sure to use the latest available version for the intended format.</p>
</div>
</section>
<section id="see-also">
<h2><a class="toc-backref" href="#id6" role="doc-backlink">See Also</a><a class="headerlink" href="#see-also" title="Link to this heading"></a></h2>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<ul class="simple">
<li><p><a class="reference internal" href="zos_fetch.html#zos-fetch-module"><span class="std std-ref">zos_fetch – Fetch data from z/OS</span></a></p></li>
<li><p><a class="reference internal" href="zos_unarchive.html#zos-unarchive-module"><span class="std std-ref">zos_unarchive – Unarchive files and data sets in z/OS.</span></a></p></li>
</ul>
</div>
</section>
<section id="return-values">
<h2><a class="toc-backref" href="#id7" role="doc-backlink">Return Values</a><a class="headerlink" href="#return-values" title="Link to this heading"></a></h2>
<dl>
<dt>state</dt><dd><p>The state of the input <code class="docutils literal notranslate"><span class="pre">src</span></code>.</p>
<p><code class="docutils literal notranslate"><span class="pre">absent</span></code> when the source files or data sets were removed.</p>
<p><code class="docutils literal notranslate"><span class="pre">present</span></code> when the source files or data sets were not removed.</p>
<p><code class="docutils literal notranslate"><span class="pre">incomplete</span></code> when <code class="docutils literal notranslate"><span class="pre">remove</span></code> was true and the source files or data sets were not removed.</p>
<div class="line-block">
<div class="line"><strong>returned</strong>: always</div>
<div class="line"><strong>type</strong>: str</div>
</div>
</dd>
<dt>dest_state</dt><dd><p>The state of the <em>dest</em> file or data set.</p>
<p><code class="docutils literal notranslate"><span class="pre">absent</span></code> when the file does not exist.</p>
<p><code class="docutils literal notranslate"><span class="pre">archive</span></code> when the file is an archive.</p>
<p><code class="docutils literal notranslate"><span class="pre">compress</span></code> when the file is compressed, but not an archive.</p>
<p><code class="docutils literal notranslate"><span class="pre">incomplete</span></code> when the file is an archive, but some files under <em>src</em> were not found.</p>
<div class="line-block">
<div class="line"><strong>returned</strong>: success</div>
<div class="line"><strong>type</strong>: str</div>
</div>
</dd>
<dt>missing</dt><dd><p>Any files or data sets that were missing from the source.</p>
<div class="line-block">
<div class="line"><strong>returned</strong>: success</div>
<div class="line"><strong>type</strong>: list</div>
</div>
</dd>
<dt>archived</dt><dd><p>Any files or data sets that were compressed or added to the archive.</p>
<div class="line-block">
<div class="line"><strong>returned</strong>: success</div>
<div class="line"><strong>type</strong>: list</div>
</div>
</dd>
<dt>arcroot</dt><dd><p>If <code class="docutils literal notranslate"><span class="pre">src</span></code> is a list of USS files, this returns the top most parent folder of the list of files, otherwise is empty.</p>
<div class="line-block">
<div class="line"><strong>returned</strong>: always</div>
<div class="line"><strong>type</strong>: str</div>
</div>
</dd>
<dt>expanded_sources</dt><dd><p>The list of matching paths from the src option.</p>
<div class="line-block">
<div class="line"><strong>returned</strong>: always</div>
<div class="line"><strong>type</strong>: list</div>
</div>
</dd>
<dt>expanded_exclude_sources</dt><dd><p>The list of matching exclude paths from the exclude option.</p>
<div class="line-block">
<div class="line"><strong>returned</strong>: always</div>
<div class="line"><strong>type</strong>: list</div>
</div>
</dd>
</dl>
</section>
</section>


           </div>
          </div>
          <footer>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright IBM Corp. 2020, 2025.</p>
  </div>

   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>