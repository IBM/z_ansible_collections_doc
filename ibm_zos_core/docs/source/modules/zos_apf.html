

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>zos_apf – Add or remove libraries to Authorized Program Facility (APF) &mdash; Red Hat Ansible Certified Content for IBM Z  documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="../../../../_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../../../../" src="../../../../_static/documentation_options.js"></script>
        <script src="../../../../_static/jquery.js"></script>
        <script src="../../../../_static/underscore.js"></script>
        <script src="../../../../_static/doctools.js"></script>
        <script src="../../../../_static/language_data.js"></script>
    
    <script type="text/javascript" src="../../../../_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="../../../../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../../../_static/pygments.css" type="text/css" />
    <link rel="index" title="Index" href="../../../../genindex.html" />
    <link rel="search" title="Search" href="../../../../search.html" />
    <link rel="next" title="zos_backup_restore – Backup and restore data sets and volumes" href="zos_backup_restore.html" />
    <link rel="prev" title="Modules" href="../modules.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../../../../index.html" class="icon icon-home"> Red Hat Ansible Certified Content for IBM Z
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Getting Started</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../../requirements/requirements.html">Requirements</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../installation/installation.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../playbooks/playbooks.html">Playbooks</a></li>
</ul>
<p class="caption"><span class="caption-text">Ansible Content</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../../../zhmc-ansible-modules/docs/ansible_content.html">Beta - Z HMC</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../../ansible_content.html">z/OS core</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../plugins.html">Plugins</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="../modules.html">Modules</a><ul class="current">
<li class="toctree-l3 current"><a class="current reference internal" href="#">zos_apf – Add or remove libraries to Authorized Program Facility (APF)</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#synopsis">Synopsis</a></li>
<li class="toctree-l4"><a class="reference internal" href="#parameters">Parameters</a></li>
<li class="toctree-l4"><a class="reference internal" href="#examples">Examples</a></li>
<li class="toctree-l4"><a class="reference internal" href="#notes">Notes</a></li>
<li class="toctree-l4"><a class="reference internal" href="#return-values">Return Values</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="zos_backup_restore.html">zos_backup_restore – Backup and restore data sets and volumes</a></li>
<li class="toctree-l3"><a class="reference internal" href="zos_blockinfile.html">zos_blockinfile – Manage block of multi-line textual data on z/OS</a></li>
<li class="toctree-l3"><a class="reference internal" href="zos_copy.html">zos_copy – Copy data to z/OS</a></li>
<li class="toctree-l3"><a class="reference internal" href="zos_data_set.html">zos_data_set – Manage data sets</a></li>
<li class="toctree-l3"><a class="reference internal" href="zos_encode.html">zos_encode – Perform encoding operations.</a></li>
<li class="toctree-l3"><a class="reference internal" href="zos_fetch.html">zos_fetch – Fetch data from z/OS</a></li>
<li class="toctree-l3"><a class="reference internal" href="zos_find.html">zos_find – Find matching data sets</a></li>
<li class="toctree-l3"><a class="reference internal" href="zos_job_output.html">zos_job_output – Display job output</a></li>
<li class="toctree-l3"><a class="reference internal" href="zos_job_query.html">zos_job_query – Query job status</a></li>
<li class="toctree-l3"><a class="reference internal" href="zos_job_submit.html">zos_job_submit – Submit JCL</a></li>
<li class="toctree-l3"><a class="reference internal" href="zos_lineinfile.html">zos_lineinfile – Manage textual data on z/OS</a></li>
<li class="toctree-l3"><a class="reference internal" href="zos_mvs_raw.html">zos_mvs_raw – Run a z/OS program.</a></li>
<li class="toctree-l3"><a class="reference internal" href="zos_operator.html">zos_operator – Execute operator command</a></li>
<li class="toctree-l3"><a class="reference internal" href="zos_operator_action_query.html">zos_operator_action_query – Display messages requiring action</a></li>
<li class="toctree-l3"><a class="reference internal" href="zos_ping.html">zos_ping – Ping z/OS and check dependencies.</a></li>
<li class="toctree-l3"><a class="reference internal" href="zos_tso_command.html">zos_tso_command – Execute TSO commands</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../filters.html">Filters</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../../ibm_zos_cics/docs/ansible_content.html">z/OS CICS</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../ibm_zos_ims/docs/ansible_content.html">z/OS IMS</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../ibm_zos_sysauto/docs/ansible_content.html">z/OS Sys Auto</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../ibm_zosmf/docs/ansible_content.html">z/OS z/OSMF</a></li>
</ul>
<p class="caption"><span class="caption-text">Release Notes</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../../release/release.html">Releases</a></li>
</ul>
<p class="caption"><span class="caption-text">FAQs</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../../faqs/faqs.html">Installation, versions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../faqs/faqs.html#modules-playbooks">Modules, Playbooks</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../faqs/faqs.html#troubleshooting-messages">Troubleshooting, Messages</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../faqs/faqs.html#community">Community</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../faqs/faqs.html#others">Others</a></li>
</ul>
<p class="caption"><span class="caption-text">Reference</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../../reference/documentation.html">Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../reference/community.html">Contributing</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../reference/helpful_links.html">Helpful Links</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../../../index.html">Red Hat Ansible Certified Content for IBM Z</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          

















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../../../index.html">Docs</a> &raquo;</li>
        
          <li><a href="../../ansible_content.html">z/OS Core</a> &raquo;</li>
        
          <li><a href="../modules.html">Modules</a> &raquo;</li>
        
      <li>zos_apf – Add or remove libraries to Authorized Program Facility (APF)</li>
    
    

  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="zos-apf-add-or-remove-libraries-to-authorized-program-facility-apf">
<span id="zos-apf-module"></span><h1>zos_apf – Add or remove libraries to Authorized Program Facility (APF)<a class="headerlink" href="#zos-apf-add-or-remove-libraries-to-authorized-program-facility-apf" title="Permalink to this headline">¶</a></h1>
<div class="contents local topic" id="contents">
<ul class="simple">
<li><p><a class="reference internal" href="#synopsis" id="id3">Synopsis</a></p></li>
<li><p><a class="reference internal" href="#parameters" id="id4">Parameters</a></p></li>
<li><p><a class="reference internal" href="#examples" id="id5">Examples</a></p></li>
<li><p><a class="reference internal" href="#notes" id="id6">Notes</a></p></li>
<li><p><a class="reference internal" href="#return-values" id="id7">Return Values</a></p></li>
</ul>
</div>
<div class="section" id="synopsis">
<h2><a class="toc-backref" href="#id3">Synopsis</a><a class="headerlink" href="#synopsis" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><p>Adds or removes libraries to Authorized Program Facility (APF).</p></li>
<li><p>Manages APF statement persistent entries to a data set or data set member.</p></li>
<li><p>Changes APF list format to “DYNAMIC” or “STATIC”.</p></li>
<li><p>Gets the current APF list entries.</p></li>
</ul>
</div>
<div class="section" id="parameters">
<h2><a class="toc-backref" href="#id4">Parameters</a><a class="headerlink" href="#parameters" title="Permalink to this headline">¶</a></h2>
<dl>
<dt>library</dt><dd><p>The library name to be added or removed from the APF list.</p>
<div class="line-block">
<div class="line"><strong>required</strong>: False</div>
<div class="line"><strong>type</strong>: str</div>
</div>
</dd>
<dt>state</dt><dd><p>Ensure that the library is added <code class="docutils literal notranslate"><span class="pre">state=present</span></code> or removed <code class="docutils literal notranslate"><span class="pre">state=absent</span></code>.</p>
<p>The APF list format has to be “DYNAMIC”.</p>
<div class="line-block">
<div class="line"><strong>required</strong>: False</div>
<div class="line"><strong>type</strong>: str</div>
<div class="line"><strong>default</strong>: present</div>
<div class="line"><strong>choices</strong>: absent, present</div>
</div>
</dd>
<dt>force_dynamic</dt><dd><p>Will force the APF list format to “DYNAMIC” before adding or removing libraries.</p>
<p>If the format is “STATIC”, the format will be changed to “DYNAMIC”.</p>
<div class="line-block">
<div class="line"><strong>required</strong>: False</div>
<div class="line"><strong>type</strong>: bool</div>
</div>
</dd>
<dt>volume</dt><dd><p>The identifier for the volume containing the library specified in the <code class="docutils literal notranslate"><span class="pre">library</span></code> parameter. The values must be one the following.</p>
<ol class="arabic simple">
<li><p>The volume serial number.</p></li>
<li><p>Six asterisks (<strong>**</strong>), indicating that the system must use the volume serial number of the current system residence (SYSRES) volume.</p></li>
<li><p><em>MCAT</em>, indicating that the system must use the volume serial number of the volume containing the master catalog.</p></li>
</ol>
<p>If <code class="docutils literal notranslate"><span class="pre">volume</span></code> is not specified, <code class="docutils literal notranslate"><span class="pre">library</span></code> has to be cataloged.</p>
<div class="line-block">
<div class="line"><strong>required</strong>: False</div>
<div class="line"><strong>type</strong>: str</div>
</div>
</dd>
<dt>sms</dt><dd><p>Indicates that the library specified in the <code class="docutils literal notranslate"><span class="pre">library</span></code> parameter is managed by the storage management subsystem (SMS), and therefore no volume is associated with the library.</p>
<p>If <code class="docutils literal notranslate"><span class="pre">sms=True</span></code>, <code class="docutils literal notranslate"><span class="pre">volume</span></code> value will be ignored.</p>
<div class="line-block">
<div class="line"><strong>required</strong>: False</div>
<div class="line"><strong>type</strong>: bool</div>
</div>
</dd>
<dt>operation</dt><dd><p>Change APF list format to “DYNAMIC” <code class="docutils literal notranslate"><span class="pre">operation=set_dynamic</span></code> or “STATIC” <code class="docutils literal notranslate"><span class="pre">operation=set_static</span></code></p>
<p>Display APF list current format <code class="docutils literal notranslate"><span class="pre">operation=check_format</span></code></p>
<p>Display APF list entries when <code class="docutils literal notranslate"><span class="pre">operation=list</span></code> <code class="docutils literal notranslate"><span class="pre">library</span></code>, <code class="docutils literal notranslate"><span class="pre">volume</span></code> and <code class="docutils literal notranslate"><span class="pre">sms</span></code> will be used as filters.</p>
<p>If <code class="docutils literal notranslate"><span class="pre">operation</span></code> is not set, add or remove operation will be ignored.</p>
<div class="line-block">
<div class="line"><strong>required</strong>: False</div>
<div class="line"><strong>type</strong>: str</div>
<div class="line"><strong>choices</strong>: set_dynamic, set_static, check_format, list</div>
</div>
</dd>
<dt>persistent</dt><dd><p>Add/remove persistent entries to or from <em>data_set_name</em></p>
<p><code class="docutils literal notranslate"><span class="pre">library</span></code> will not be persisted or removed if <code class="docutils literal notranslate"><span class="pre">persistent=None</span></code></p>
<div class="line-block">
<div class="line"><strong>required</strong>: False</div>
<div class="line"><strong>type</strong>: dict</div>
</div>
<dl>
<dt>data_set_name</dt><dd><p>The data set name used for persisting or removing a <code class="docutils literal notranslate"><span class="pre">library</span></code> from the APF list.</p>
<div class="line-block">
<div class="line"><strong>required</strong>: True</div>
<div class="line"><strong>type</strong>: str</div>
</div>
</dd>
<dt>marker</dt><dd><p>The marker line template.</p>
<p><code class="docutils literal notranslate"><span class="pre">{mark}</span></code> will be replaced with “BEGIN” and “END”.</p>
<p>Using a custom marker without the <code class="docutils literal notranslate"><span class="pre">{mark}</span></code> variable may result in the block being repeatedly inserted on subsequent playbook runs.</p>
<p><code class="docutils literal notranslate"><span class="pre">{mark}</span></code> length may not exceed 72 characters.</p>
<div class="line-block">
<div class="line"><strong>required</strong>: False</div>
<div class="line"><strong>type</strong>: str</div>
<div class="line"><strong>default</strong>: /* {mark} ANSIBLE MANAGED BLOCK &lt;timestamp&gt; <a href="#id1"><span class="problematic" id="id2">*</span></a>/</div>
</div>
</dd>
<dt>backup</dt><dd><p>Creates a backup file or backup data set for <em>data_set_name</em>, including the timestamp information to ensure that you retrieve the original APF list defined in <em>data_set_name</em>”.</p>
<p><em>backup_name</em> can be used to specify a backup file name if <em>backup=true</em>.</p>
<p>The backup file name will be return on either success or failure of module execution such that data can be retrieved.</p>
<div class="line-block">
<div class="line"><strong>required</strong>: False</div>
<div class="line"><strong>type</strong>: bool</div>
</div>
</dd>
<dt>backup_name</dt><dd><p>Specify the USS file name or data set name for the destination backup.</p>
<p>If the source <em>data_set_name</em> is a USS file or path, the backup_name name must be a file or path name, and the USS file or path must be an absolute path name.</p>
<p>If the source is an MVS data set, the backup_name must be an MVS data set name.</p>
<p>If the backup_name is not provided, the default backup_name will be used. If the source is a USS file or path, the name of the backup file will be the source file or path name appended with a timestamp. For example, <code class="docutils literal notranslate"><span class="pre">/path/file_name.2020-04-23-08-32-29-bak.tar</span></code>.</p>
<p>If the source is an MVS data set, it will be a data set with a random name generated by calling the ZOAU API. The MVS backup data set recovery can be done by renaming it.</p>
<div class="line-block">
<div class="line"><strong>required</strong>: False</div>
<div class="line"><strong>type</strong>: str</div>
</div>
</dd>
</dl>
</dd>
<dt>batch</dt><dd><p>A list of dictionaries for adding or removing libraries.</p>
<p>This is mutually exclusive with <code class="docutils literal notranslate"><span class="pre">library</span></code>, <code class="docutils literal notranslate"><span class="pre">volume</span></code>, <code class="docutils literal notranslate"><span class="pre">sms</span></code></p>
<p>Can be used with <code class="docutils literal notranslate"><span class="pre">persistent</span></code></p>
<div class="line-block">
<div class="line"><strong>required</strong>: False</div>
<div class="line"><strong>type</strong>: list</div>
<div class="line"><strong>elements</strong>: dict</div>
</div>
<dl>
<dt>library</dt><dd><p>The library name to be added or removed from the APF list.</p>
<div class="line-block">
<div class="line"><strong>required</strong>: True</div>
<div class="line"><strong>type</strong>: str</div>
</div>
</dd>
<dt>volume</dt><dd><p>The identifier for the volume containing the library specified on the <code class="docutils literal notranslate"><span class="pre">library</span></code> parameter. The values must be one of the following.</p>
<ol class="arabic simple">
<li><p>The volume serial number</p></li>
<li><p>Six asterisks (<strong>**</strong>), indicating that the system must use the volume serial number of the current system residence (SYSRES) volume.</p></li>
<li><p><em>MCAT</em>, indicating that the system must use the volume serial number of the volume containing the master catalog.</p></li>
</ol>
<p>If <code class="docutils literal notranslate"><span class="pre">volume</span></code> is not specified, <code class="docutils literal notranslate"><span class="pre">library</span></code> has to be cataloged.</p>
<div class="line-block">
<div class="line"><strong>required</strong>: False</div>
<div class="line"><strong>type</strong>: str</div>
</div>
</dd>
<dt>sms</dt><dd><p>Indicates that the library specified in the <code class="docutils literal notranslate"><span class="pre">library</span></code> parameter is managed by the storage management subsystem (SMS), and therefore no volume is associated with the library.</p>
<p>If true <code class="docutils literal notranslate"><span class="pre">volume</span></code> will be ignored.</p>
<div class="line-block">
<div class="line"><strong>required</strong>: False</div>
<div class="line"><strong>type</strong>: bool</div>
</div>
</dd>
</dl>
</dd>
</dl>
</div>
<div class="section" id="examples">
<h2><a class="toc-backref" href="#id5">Examples</a><a class="headerlink" href="#examples" title="Permalink to this headline">¶</a></h2>
<div class="highlight-yaml+jinja notranslate"><div class="highlight"><pre><span></span><span class="p p-Indicator">-</span> <span class="nt">name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">Add a library to the APF list</span>
  <span class="nt">zos_apf</span><span class="p">:</span>
    <span class="nt">library</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">SOME.SEQUENTIAL.DATASET</span>
    <span class="nt">volume</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">T12345</span>
<span class="p p-Indicator">-</span> <span class="nt">name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">Add a library (cataloged) to the APF list and persistence</span>
  <span class="nt">zos_apf</span><span class="p">:</span>
    <span class="nt">library</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">SOME.SEQUENTIAL.DATASET</span>
    <span class="nt">force_dynamic</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">True</span>
    <span class="nt">persistent</span><span class="p">:</span>
      <span class="nt">data_set_name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">SOME.PARTITIONED.DATASET(MEM)</span>
<span class="p p-Indicator">-</span> <span class="nt">name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">Remove a library from the APF list and persistence</span>
  <span class="nt">zos_apf</span><span class="p">:</span>
    <span class="nt">state</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">absent</span>
    <span class="nt">library</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">SOME.SEQUENTIAL.DATASET</span>
    <span class="nt">volume</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">T12345</span>
    <span class="nt">persistent</span><span class="p">:</span>
      <span class="nt">data_set_name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">SOME.PARTITIONED.DATASET(MEM)</span>
<span class="p p-Indicator">-</span> <span class="nt">name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">Batch libraries with custom marker, persistence for the APF list</span>
  <span class="nt">zos_apf</span><span class="p">:</span>
    <span class="nt">persistent</span><span class="p">:</span>
      <span class="nt">data_set_name</span><span class="p">:</span> <span class="s">&quot;SOME.PARTITIONED.DATASET(MEM)&quot;</span>
      <span class="nt">marker</span><span class="p">:</span> <span class="s">&quot;/*</span><span class="nv"> </span><span class="s">{mark}</span><span class="nv"> </span><span class="s">PROG001</span><span class="nv"> </span><span class="s">USR0010</span><span class="nv"> </span><span class="s">*/&quot;</span>
    <span class="nt">batch</span><span class="p">:</span>
      <span class="p p-Indicator">-</span> <span class="nt">library</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">SOME.SEQ.DS1</span>
      <span class="p p-Indicator">-</span> <span class="nt">library</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">SOME.SEQ.DS2</span>
        <span class="nt">sms</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">True</span>
      <span class="p p-Indicator">-</span> <span class="nt">library</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">SOME.SEQ.DS3</span>
        <span class="nt">volume</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">T12345</span>
<span class="p p-Indicator">-</span> <span class="nt">name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">Print the APF list matching library pattern or volume serial number</span>
  <span class="nt">zos_apf</span><span class="p">:</span>
    <span class="nt">operation</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">list</span>
    <span class="nt">library</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">SOME.SEQ.*</span>
    <span class="nt">volume</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">T12345</span>
<span class="p p-Indicator">-</span> <span class="nt">name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">Set the APF list format to STATIC</span>
  <span class="nt">zos_apf</span><span class="p">:</span>
    <span class="nt">operation</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">set_static</span>
</pre></div>
</div>
</div>
<div class="section" id="notes">
<h2><a class="toc-backref" href="#id6">Notes</a><a class="headerlink" href="#notes" title="Permalink to this headline">¶</a></h2>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>It is the playbook author or user’s responsibility to ensure they have appropriate authority to the RACF® FACILITY resource class. A user is described as the remote user, configured either for the playbook or playbook tasks, who can also obtain escalated privileges to execute as root or another user.</p>
<p>To add or delete the APF list entry for library libname, you must have UPDATE authority to the RACF® FACILITY resource class entity CSVAPF.libname, or there must be no FACILITY class profile that protects that entity.</p>
<p>To change the format of the APF list to dynamic, you must have UPDATE authority to the RACF FACILITY resource class profile CSVAPF.MVS.SETPROG.FORMAT.DYNAMIC, or there must be no FACILITY class profile that protects that entity.</p>
<p>To change the format of the APF list back to static, you must have UPDATE authority to the RACF FACILITY resource class profile CSVAPF.MVS.SETPROG.FORMAT.STATIC, or there must be no FACILITY class profile that protects that entity.</p>
</div>
</div>
<div class="section" id="return-values">
<h2><a class="toc-backref" href="#id7">Return Values</a><a class="headerlink" href="#return-values" title="Permalink to this headline">¶</a></h2>
<dl>
<dt>stdout</dt><dd><p>The stdout from ZOAU command apfadm. Output varies based on the type of operation.</p>
<p>state&gt; stdout of the executed operator command (opercmd), “SETPROG” from ZOAU command apfadm</p>
<p>operation&gt; stdout of operation options list&gt; Returns a list of dictionaries of APF list entries [{‘vol’: ‘PP0L6P’, ‘ds’: ‘DFH.V5R3M0.CICS.SDFHAUTH’}, {‘vol’: ‘PP0L6P’, ‘ds’: ‘DFH.V5R3M0.CICS.SDFJAUTH’}, …] set_dynamic&gt;  Set to DYNAMIC set_static&gt;   Set to STATIC check_format&gt; DYNAMIC or STATIC</p>
<div class="line-block">
<div class="line"><strong>returned</strong>: always</div>
<div class="line"><strong>type</strong>: str</div>
</div>
</dd>
<dt>stderr</dt><dd><p>The error messages from ZOAU command apfadm</p>
<div class="line-block">
<div class="line"><strong>returned</strong>: always</div>
<div class="line"><strong>type</strong>: str</div>
<div class="line"><strong>sample</strong>: BGYSC1310E ADD Error: Dataset COMMON.LINKLIB volume COMN01 is already present in APF list.</div>
</div>
</dd>
<dt>rc</dt><dd><p>The return code from ZOAU command apfadm</p>
<div class="line-block">
<div class="line"><strong>returned</strong>: always</div>
<div class="line"><strong>type</strong>: int</div>
</div>
</dd>
<dt>msg</dt><dd><p>The module messages</p>
<div class="line-block">
<div class="line"><strong>returned</strong>: failure</div>
<div class="line"><strong>type</strong>: str</div>
<div class="line"><strong>sample</strong>: Parameter verification failed</div>
</div>
</dd>
<dt>backup_name</dt><dd><p>Name of the backup file or data set that was created.</p>
<div class="line-block">
<div class="line"><strong>returned</strong>: if backup=true, always</div>
<div class="line"><strong>type</strong>: str</div>
</div>
</dd>
</dl>
</div>
</div>


           </div>
           
          </div>
          <footer>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright IBM Corporation 2020, 2021

    </p>
  </div> 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>