

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>zos_script – Run scripts in z/OS &mdash; Red Hat Ansible Certified Content for IBM Z  documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="../../../../_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../../../../" src="../../../../_static/documentation_options.js"></script>
        <script src="../../../../_static/jquery.js"></script>
        <script src="../../../../_static/underscore.js"></script>
        <script src="../../../../_static/doctools.js"></script>
        <script src="../../../../_static/language_data.js"></script>
    
    <script type="text/javascript" src="../../../../_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="../../../../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../../../_static/pygments.css" type="text/css" />
    <link rel="index" title="Index" href="../../../../genindex.html" />
    <link rel="search" title="Search" href="../../../../search.html" />
    <link rel="next" title="zos_tso_command – Execute TSO commands" href="zos_tso_command.html" />
    <link rel="prev" title="zos_ping – Ping z/OS and check dependencies." href="zos_ping.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../../../../index.html" class="icon icon-home"> Red Hat Ansible Certified Content for IBM Z
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Getting Started</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../../requirements/requirements.html">Requirements</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../installation/installation.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../playbooks/playbooks.html">Playbooks</a></li>
</ul>
<p class="caption"><span class="caption-text">Ansible Content</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="../../ansible_content.html">z/OS core</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../plugins.html">Plugins</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="../modules.html">Modules</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="zos_apf.html">zos_apf – Add or remove libraries to Authorized Program Facility (APF)</a></li>
<li class="toctree-l3"><a class="reference internal" href="zos_archive.html">zos_archive – Archive files and data sets on z/OS.</a></li>
<li class="toctree-l3"><a class="reference internal" href="zos_backup_restore.html">zos_backup_restore – Backup and restore data sets and volumes</a></li>
<li class="toctree-l3"><a class="reference internal" href="zos_blockinfile.html">zos_blockinfile – Manage block of multi-line textual data on z/OS</a></li>
<li class="toctree-l3"><a class="reference internal" href="zos_copy.html">zos_copy – Copy data to z/OS</a></li>
<li class="toctree-l3"><a class="reference internal" href="zos_data_set.html">zos_data_set – Manage data sets</a></li>
<li class="toctree-l3"><a class="reference internal" href="zos_encode.html">zos_encode – Perform encoding operations.</a></li>
<li class="toctree-l3"><a class="reference internal" href="zos_fetch.html">zos_fetch – Fetch data from z/OS</a></li>
<li class="toctree-l3"><a class="reference internal" href="zos_find.html">zos_find – Find matching data sets</a></li>
<li class="toctree-l3"><a class="reference internal" href="zos_gather_facts.html">zos_gather_facts – Gather z/OS system facts.</a></li>
<li class="toctree-l3"><a class="reference internal" href="zos_job_output.html">zos_job_output – Display job output</a></li>
<li class="toctree-l3"><a class="reference internal" href="zos_job_query.html">zos_job_query – Query job status</a></li>
<li class="toctree-l3"><a class="reference internal" href="zos_job_submit.html">zos_job_submit – Submit JCL</a></li>
<li class="toctree-l3"><a class="reference internal" href="zos_lineinfile.html">zos_lineinfile – Manage textual data on z/OS</a></li>
<li class="toctree-l3"><a class="reference internal" href="zos_mount.html">zos_mount – Mount a z/OS file system.</a></li>
<li class="toctree-l3"><a class="reference internal" href="zos_mvs_raw.html">zos_mvs_raw – Run a z/OS program.</a></li>
<li class="toctree-l3"><a class="reference internal" href="zos_operator.html">zos_operator – Execute operator command</a></li>
<li class="toctree-l3"><a class="reference internal" href="zos_operator_action_query.html">zos_operator_action_query – Display messages requiring action</a></li>
<li class="toctree-l3"><a class="reference internal" href="zos_ping.html">zos_ping – Ping z/OS and check dependencies.</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">zos_script – Run scripts in z/OS</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#synopsis">Synopsis</a></li>
<li class="toctree-l4"><a class="reference internal" href="#parameters">Parameters</a></li>
<li class="toctree-l4"><a class="reference internal" href="#examples">Examples</a></li>
<li class="toctree-l4"><a class="reference internal" href="#notes">Notes</a></li>
<li class="toctree-l4"><a class="reference internal" href="#see-also">See Also</a></li>
<li class="toctree-l4"><a class="reference internal" href="#return-values">Return Values</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="zos_tso_command.html">zos_tso_command – Execute TSO commands</a></li>
<li class="toctree-l3"><a class="reference internal" href="zos_unarchive.html">zos_unarchive – Unarchive files and data sets in z/OS.</a></li>
<li class="toctree-l3"><a class="reference internal" href="zos_volume_init.html">zos_volume_init – Initialize volumes or minidisks.</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../filters.html">Filters</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../../ibm_zos_cics/docs/ansible_content.html">z/OS CICS</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../ibm_zos_ims/docs/ansible_content.html">z/OS IMS</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../ibm_zos_sysauto/docs/ansible_content.html">z/OS Sys Auto</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../ibm_zosmf/docs/ansible_content.html">z/OS z/OSMF</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../zhmc-ansible-modules/docs/ansible_content.html">Z HMC</a></li>
</ul>
<p class="caption"><span class="caption-text">Release Notes</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../../release/release.html">Releases</a></li>
</ul>
<p class="caption"><span class="caption-text">Troubleshooting</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../../troubleshooting/errorsandmessages.html">Errors and Messages</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../troubleshooting/errorsandmessages.html#troubleshooting-collections">Troubleshooting Collections</a></li>
</ul>
<p class="caption"><span class="caption-text">FAQs</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../../faqs/faqs.html">General</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../faqs/faqs.html#modules-playbooks">Modules, Playbooks</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../faqs/faqs.html#support">Support</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../faqs/faqs.html#community">Community</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../faqs/faqs.html#others">Others</a></li>
</ul>
<p class="caption"><span class="caption-text">Reference</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../../reference/documentation.html">Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../reference/community.html">Contributing</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../reference/helpful_links.html">Helpful Links</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../../../index.html">Red Hat Ansible Certified Content for IBM Z</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          

















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../../../index.html">Docs</a> &raquo;</li>
        
          <li><a href="../../ansible_content.html">z/OS Core</a> &raquo;</li>
        
          <li><a href="../modules.html">Modules</a> &raquo;</li>
        
      <li>zos_script – Run scripts in z/OS</li>
    
    

  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="zos-script-run-scripts-in-z-os">
<span id="zos-script-module"></span><h1>zos_script – Run scripts in z/OS<a class="headerlink" href="#zos-script-run-scripts-in-z-os" title="Permalink to this headline">¶</a></h1>
<div class="contents local topic" id="contents">
<ul class="simple">
<li><p><a class="reference internal" href="#synopsis" id="id1">Synopsis</a></p></li>
<li><p><a class="reference internal" href="#parameters" id="id2">Parameters</a></p></li>
<li><p><a class="reference internal" href="#examples" id="id3">Examples</a></p></li>
<li><p><a class="reference internal" href="#notes" id="id4">Notes</a></p></li>
<li><p><a class="reference internal" href="#see-also" id="id5">See Also</a></p></li>
<li><p><a class="reference internal" href="#return-values" id="id6">Return Values</a></p></li>
</ul>
</div>
<div class="section" id="synopsis">
<h2><a class="toc-backref" href="#id1">Synopsis</a><a class="headerlink" href="#synopsis" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><p>The <a class="reference external" href="./zos_script.html">zos_script</a> module runs a local or remote script in the remote machine.</p></li>
</ul>
</div>
<div class="section" id="parameters">
<h2><a class="toc-backref" href="#id2">Parameters</a><a class="headerlink" href="#parameters" title="Permalink to this headline">¶</a></h2>
<dl>
<dt>chdir</dt><dd><p>Change the script’s working directory to this path.</p>
<p>When not specified, the script will run in the user’s home directory on the remote machine.</p>
<div class="line-block">
<div class="line"><strong>required</strong>: False</div>
<div class="line"><strong>type</strong>: str</div>
</div>
</dd>
<dt>cmd</dt><dd><p>Path to the local or remote script followed by optional arguments.</p>
<p>If the script path contains spaces, make sure to enclose it in two pairs of quotes.</p>
<p>Arguments may need to be escaped so the shell in the remote machine handles them correctly.</p>
<div class="line-block">
<div class="line"><strong>required</strong>: True</div>
<div class="line"><strong>type</strong>: str</div>
</div>
</dd>
<dt>creates</dt><dd><p>Path to a file in the remote machine. If it exists, the script will not be executed.</p>
<div class="line-block">
<div class="line"><strong>required</strong>: False</div>
<div class="line"><strong>type</strong>: str</div>
</div>
</dd>
<dt>encoding</dt><dd><p>Specifies which encodings the script should be converted from and to.</p>
<p>If <code class="docutils literal notranslate"><span class="pre">encoding</span></code> is not provided, the module determines which local and remote charsets to convert the data from and to.</p>
<div class="line-block">
<div class="line"><strong>required</strong>: False</div>
<div class="line"><strong>type</strong>: dict</div>
</div>
<dl>
<dt>from</dt><dd><p>The encoding to be converted from.</p>
<div class="line-block">
<div class="line"><strong>required</strong>: True</div>
<div class="line"><strong>type</strong>: str</div>
</div>
</dd>
<dt>to</dt><dd><p>The encoding to be converted to.</p>
<div class="line-block">
<div class="line"><strong>required</strong>: True</div>
<div class="line"><strong>type</strong>: str</div>
</div>
</dd>
</dl>
</dd>
<dt>executable</dt><dd><p>Path of an executable in the remote machine to invoke the script with.</p>
<p>When not specified, the system will assume the script is interpreted REXX and try to run it as such. Make sure to include a comment identifying the script as REXX at the start of the file in this case.</p>
<div class="line-block">
<div class="line"><strong>required</strong>: False</div>
<div class="line"><strong>type</strong>: str</div>
</div>
</dd>
<dt>remote_src</dt><dd><p>If set to <code class="docutils literal notranslate"><span class="pre">false</span></code>, the module will search the script in the controller.</p>
<p>If set to <code class="docutils literal notranslate"><span class="pre">true</span></code>, the module will search the script in the remote machine.</p>
<div class="line-block">
<div class="line"><strong>required</strong>: False</div>
<div class="line"><strong>type</strong>: bool</div>
</div>
</dd>
<dt>removes</dt><dd><p>Path to a file in the remote machine. If it does not exist, the script will not be executed.</p>
<div class="line-block">
<div class="line"><strong>required</strong>: False</div>
<div class="line"><strong>type</strong>: str</div>
</div>
</dd>
<dt>use_template</dt><dd><p>Whether the module should treat <code class="docutils literal notranslate"><span class="pre">src</span></code> as a Jinja2 template and render it before continuing with the rest of the module.</p>
<p>Only valid when <code class="docutils literal notranslate"><span class="pre">src</span></code> is a local file or directory.</p>
<p>All variables defined in inventory files, vars files and the playbook will be passed to the template engine, as well as <a class="reference external" href="https://docs.ansible.com/ansible/latest/reference_appendices/special_variables.html#special-variables">Ansible special variables</a>, such as <code class="docutils literal notranslate"><span class="pre">playbook_dir</span></code>, <code class="docutils literal notranslate"><span class="pre">ansible_version</span></code>, etc.</p>
<p>If variables defined in different scopes share the same name, Ansible will apply variable precedence to them. You can see the complete precedence order <a class="reference external" href="https://docs.ansible.com/ansible/latest/playbook_guide/playbooks_variables.html#understanding-variable-precedence">in Ansible’s documentation</a></p>
<div class="line-block">
<div class="line"><strong>required</strong>: False</div>
<div class="line"><strong>type</strong>: bool</div>
<div class="line"><strong>default</strong>: False</div>
</div>
</dd>
<dt>template_parameters</dt><dd><p>Options to set the way Jinja2 will process templates.</p>
<p>Jinja2 already sets defaults for the markers it uses, you can find more information at its <a class="reference external" href="https://jinja.palletsprojects.com/en/latest/templates/">official documentation</a>.</p>
<p>These options are ignored unless <code class="docutils literal notranslate"><span class="pre">use_template</span></code> is true.</p>
<div class="line-block">
<div class="line"><strong>required</strong>: False</div>
<div class="line"><strong>type</strong>: dict</div>
</div>
<dl>
<dt>variable_start_string</dt><dd><p>Marker for the beginning of a statement to print a variable in Jinja2.</p>
<div class="line-block">
<div class="line"><strong>required</strong>: False</div>
<div class="line"><strong>type</strong>: str</div>
<div class="line"><strong>default</strong>: {{</div>
</div>
</dd>
<dt>variable_end_string</dt><dd><p>Marker for the end of a statement to print a variable in Jinja2.</p>
<div class="line-block">
<div class="line"><strong>required</strong>: False</div>
<div class="line"><strong>type</strong>: str</div>
<div class="line"><strong>default</strong>: }}</div>
</div>
</dd>
<dt>block_start_string</dt><dd><p>Marker for the beginning of a block in Jinja2.</p>
<div class="line-block">
<div class="line"><strong>required</strong>: False</div>
<div class="line"><strong>type</strong>: str</div>
<div class="line"><strong>default</strong>: {%</div>
</div>
</dd>
<dt>block_end_string</dt><dd><p>Marker for the end of a block in Jinja2.</p>
<div class="line-block">
<div class="line"><strong>required</strong>: False</div>
<div class="line"><strong>type</strong>: str</div>
<div class="line"><strong>default</strong>: %}</div>
</div>
</dd>
<dt>comment_start_string</dt><dd><p>Marker for the beginning of a comment in Jinja2.</p>
<div class="line-block">
<div class="line"><strong>required</strong>: False</div>
<div class="line"><strong>type</strong>: str</div>
<div class="line"><strong>default</strong>: {#</div>
</div>
</dd>
<dt>comment_end_string</dt><dd><p>Marker for the end of a comment in Jinja2.</p>
<div class="line-block">
<div class="line"><strong>required</strong>: False</div>
<div class="line"><strong>type</strong>: str</div>
<div class="line"><strong>default</strong>: #}</div>
</div>
</dd>
<dt>line_statement_prefix</dt><dd><p>Prefix used by Jinja2 to identify line-based statements.</p>
<div class="line-block">
<div class="line"><strong>required</strong>: False</div>
<div class="line"><strong>type</strong>: str</div>
</div>
</dd>
<dt>line_comment_prefix</dt><dd><p>Prefix used by Jinja2 to identify comment lines.</p>
<div class="line-block">
<div class="line"><strong>required</strong>: False</div>
<div class="line"><strong>type</strong>: str</div>
</div>
</dd>
<dt>lstrip_blocks</dt><dd><p>Whether Jinja2 should strip leading spaces from the start of a line to a block.</p>
<div class="line-block">
<div class="line"><strong>required</strong>: False</div>
<div class="line"><strong>type</strong>: bool</div>
<div class="line"><strong>default</strong>: False</div>
</div>
</dd>
<dt>trim_blocks</dt><dd><p>Whether Jinja2 should remove the first newline after a block is removed.</p>
<p>Setting this option to <code class="docutils literal notranslate"><span class="pre">False</span></code> will result in newlines being added to the rendered template. This could create invalid code when working with JCL templates or empty records in destination data sets.</p>
<div class="line-block">
<div class="line"><strong>required</strong>: False</div>
<div class="line"><strong>type</strong>: bool</div>
<div class="line"><strong>default</strong>: True</div>
</div>
</dd>
<dt>keep_trailing_newline</dt><dd><p>Whether Jinja2 should keep the first trailing newline at the end of a template after rendering.</p>
<div class="line-block">
<div class="line"><strong>required</strong>: False</div>
<div class="line"><strong>type</strong>: bool</div>
<div class="line"><strong>default</strong>: False</div>
</div>
</dd>
<dt>newline_sequence</dt><dd><p>Sequence that starts a newline in a template.</p>
<div class="line-block">
<div class="line"><strong>required</strong>: False</div>
<div class="line"><strong>type</strong>: str</div>
<div class="line"><strong>default</strong>: \n</div>
<div class="line"><strong>choices</strong>: \n, \r, \r\n</div>
</div>
</dd>
<dt>auto_reload</dt><dd><p>Whether to reload a template file when it has changed after the task has started.</p>
<div class="line-block">
<div class="line"><strong>required</strong>: False</div>
<div class="line"><strong>type</strong>: bool</div>
<div class="line"><strong>default</strong>: False</div>
</div>
</dd>
</dl>
</dd>
</dl>
</div>
<div class="section" id="examples">
<h2><a class="toc-backref" href="#id3">Examples</a><a class="headerlink" href="#examples" title="Permalink to this headline">¶</a></h2>
<div class="highlight-yaml+jinja notranslate"><div class="highlight"><pre><span></span><span class="p p-Indicator">-</span> <span class="nt">name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">Run a local REXX script on the managed z/OS node.</span>
  <span class="nt">zos_script</span><span class="p">:</span>
    <span class="nt">cmd</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">./scripts/HELLO</span>

<span class="p p-Indicator">-</span> <span class="nt">name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">Run a local REXX script with args on the managed z/OS node.</span>
  <span class="nt">zos_script</span><span class="p">:</span>
    <span class="nt">cmd</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">./scripts/ARGS &quot;1,2&quot;</span>

<span class="p p-Indicator">-</span> <span class="nt">name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">Run a remote REXX script while changing its working directory.</span>
  <span class="nt">zos_script</span><span class="p">:</span>
    <span class="nt">cmd</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">/u/user/scripts/ARGS &quot;1,2&quot;</span>
    <span class="nt">remote_src</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">true</span>
    <span class="nt">chdir</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">/u/user/output_dir</span>

<span class="p p-Indicator">-</span> <span class="nt">name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">Run a local Python script in the temporary directory specified in the Ansible environment variable &#39;remote_tmp&#39;.</span>
  <span class="nt">zos_script</span><span class="p">:</span>
    <span class="nt">cmd</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">./scripts/program.py</span>
    <span class="nt">executable</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">/usr/bin/python3</span>

<span class="p p-Indicator">-</span> <span class="nt">name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">Run a local script made from a template.</span>
  <span class="nt">zos_script</span><span class="p">:</span>
    <span class="nt">cmd</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">./templates/PROGRAM</span>
    <span class="nt">use_template</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">true</span>

<span class="p p-Indicator">-</span> <span class="nt">name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">Run a script only when a file is not present.</span>
  <span class="nt">zos_script</span><span class="p">:</span>
    <span class="nt">cmd</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">./scripts/PROGRAM</span>
    <span class="nt">creates</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">/u/user/pgm_result.txt</span>

<span class="p p-Indicator">-</span> <span class="nt">name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">Run a script only when a file is already present on the remote machine.</span>
  <span class="nt">zos_script</span><span class="p">:</span>
    <span class="nt">cmd</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">./scripts/PROGRAM</span>
    <span class="nt">removes</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">/u/user/pgm_input.txt</span>

<span class="p p-Indicator">-</span> <span class="nt">name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">Run a shell script on the remote system</span>
  <span class="nt">zos_script</span><span class="p">:</span>
    <span class="nt">cmd</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">./scripts/program.sh</span>
    <span class="nt">executable</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">/bin/sh</span>
    <span class="nt">remote_src</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">true</span>
</pre></div>
</div>
</div>
<div class="section" id="notes">
<h2><a class="toc-backref" href="#id4">Notes</a><a class="headerlink" href="#notes" title="Permalink to this headline">¶</a></h2>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>When executing local scripts, temporary storage will be used on the remote z/OS system. The size of the temporary storage will correspond to the size of the file being copied.</p>
<p>The location in the z/OS system where local scripts will be copied to can be configured through Ansible’s <code class="docutils literal notranslate"><span class="pre">remote_tmp</span></code> option. Refer to <a class="reference external" href="https://docs.ansible.com/ansible/latest/collections/ansible/builtin/sh_shell.html#parameter-remote_tmp">Ansible’s documentation</a> for more information.</p>
<p>All local scripts copied to a remote z/OS system  will be removed from the managed node before the module finishes executing.</p>
<p>Execution permissions for the group assigned to the script will be added to remote scripts. The original permissions for remote scripts will be restored by the module before the task ends.</p>
<p>The module will only add execution permissions for the file owner.</p>
<p>If executing REXX scripts, make sure to include a newline character on each line of the file. Otherwise, the interpreter may fail and return error <code class="docutils literal notranslate"><span class="pre">BPXW0003I</span></code>.</p>
<p>For supported character sets used to encode data, refer to the <a class="reference external" href="https://ibm.github.io/z_ansible_collections_doc/ibm_zos_core/docs/source/resources/character_set.html">documentation</a>.</p>
<p>This module uses <a class="reference external" href="./zos_copy.html">zos_copy</a> to copy local scripts to the remote machine which uses SFTP (Secure File Transfer Protocol) for the underlying transfer protocol; SCP (secure copy protocol) and Co:Z SFTP are not supported. In the case of Co:z SFTP, you can exempt the Ansible user id on z/OS from using Co:Z thus falling back to using standard SFTP. If the module detects SCP, it will temporarily use SFTP for transfers, if not available, the module will fail.</p>
<p>This module executes scripts inside z/OS UNIX System Services. For running REXX scripts contained in data sets or CLISTs, consider issuing a TSO command with <a class="reference external" href="./zos_tso_command.html">zos_tso_command</a>.</p>
<p>The community script module does not rely on Python to execute scripts on a managed node, while this module does. Python must be present on the remote machine.</p>
</div>
</div>
<div class="section" id="see-also">
<h2><a class="toc-backref" href="#id5">See Also</a><a class="headerlink" href="#see-also" title="Permalink to this headline">¶</a></h2>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<ul class="simple">
<li><p><a class="reference internal" href="zos_copy.html#zos-copy-module"><span class="std std-ref">zos_copy – Copy data to z/OS</span></a></p></li>
<li><p><a class="reference internal" href="zos_tso_command.html#zos-tso-command-module"><span class="std std-ref">zos_tso_command – Execute TSO commands</span></a></p></li>
</ul>
</div>
</div>
<div class="section" id="return-values">
<h2><a class="toc-backref" href="#id6">Return Values</a><a class="headerlink" href="#return-values" title="Permalink to this headline">¶</a></h2>
<dl>
<dt>cmd</dt><dd><p>Original command issued by the user.</p>
<div class="line-block">
<div class="line"><strong>returned</strong>: changed</div>
<div class="line"><strong>type</strong>: str</div>
<div class="line"><strong>sample</strong>: ./scripts/PROGRAM</div>
</div>
</dd>
<dt>remote_cmd</dt><dd><p>Command executed on the remote machine. Will show the executable path used, and when running local scripts, will also show the temporary file used.</p>
<div class="line-block">
<div class="line"><strong>returned</strong>: changed</div>
<div class="line"><strong>type</strong>: str</div>
<div class="line"><strong>sample</strong>: /tmp/zos_script.jycqqfny.ARGS 1,2</div>
</div>
</dd>
<dt>msg</dt><dd><p>Failure or skip message returned by the module.</p>
<div class="line-block">
<div class="line"><strong>returned</strong>: failure or skipped</div>
<div class="line"><strong>type</strong>: str</div>
<div class="line"><strong>sample</strong>: File /u/user/file.txt is already missing on the system, skipping script</div>
</div>
</dd>
<dt>rc</dt><dd><p>Return code of the script.</p>
<div class="line-block">
<div class="line"><strong>returned</strong>: changed</div>
<div class="line"><strong>type</strong>: int</div>
<div class="line"><strong>sample</strong>: 16</div>
</div>
</dd>
<dt>stdout</dt><dd><p>The STDOUT from the script, may be empty.</p>
<div class="line-block">
<div class="line"><strong>returned</strong>: changed</div>
<div class="line"><strong>type</strong>: str</div>
<div class="line"><strong>sample</strong>: Allocation to SYSEXEC completed.</div>
</div>
</dd>
<dt>stderr</dt><dd><p>The STDERR from the script, may be empty.</p>
<div class="line-block">
<div class="line"><strong>returned</strong>: changed</div>
<div class="line"><strong>type</strong>: str</div>
<div class="line"><strong>sample</strong>: An error has ocurred.</div>
</div>
</dd>
<dt>stdout_lines</dt><dd><p>List of strings containing individual lines from STDOUT.</p>
<div class="line-block">
<div class="line"><strong>returned</strong>: changed</div>
<div class="line"><strong>type</strong>: list</div>
<div class="line"><strong>sample</strong>:</div>
</div>
<blockquote>
<div><div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">[</span>
    <span class="s2">&quot;Allocation to SYSEXEC completed.&quot;</span>
<span class="p">]</span>
</pre></div>
</div>
</div></blockquote>
</dd>
<dt>stderr_lines</dt><dd><p>List of strings containing individual lines from STDERR.</p>
<div class="line-block">
<div class="line"><strong>returned</strong>: changed</div>
<div class="line"><strong>type</strong>: list</div>
<div class="line"><strong>sample</strong>:</div>
</div>
<blockquote>
<div><div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">[</span>
    <span class="s2">&quot;An error has ocurred&quot;</span>
<span class="p">]</span>
</pre></div>
</div>
</div></blockquote>
</dd>
</dl>
</div>
</div>


           </div>
           
          </div>
          <footer>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright IBM Corp. 2020, 2023

    </p>
  </div> 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>