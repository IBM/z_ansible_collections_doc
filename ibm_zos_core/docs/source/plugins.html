

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Plugins &mdash; Red Hat Ansible Certified Content for IBM Z  documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="../../../_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../../../" src="../../../_static/documentation_options.js"></script>
        <script src="../../../_static/jquery.js"></script>
        <script src="../../../_static/underscore.js"></script>
        <script src="../../../_static/doctools.js"></script>
        <script src="../../../_static/language_data.js"></script>
    
    <script type="text/javascript" src="../../../_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="../../../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../../_static/pygments.css" type="text/css" />
    <link rel="index" title="Index" href="../../../genindex.html" />
    <link rel="search" title="Search" href="../../../search.html" />
    <link rel="next" title="Modules" href="modules.html" />
    <link rel="prev" title="z/OS Core" href="../ansible_content.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../../../index.html" class="icon icon-home"> Red Hat Ansible Certified Content for IBM Z
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Getting Started</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../requirements/requirements.html">Requirements</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../installation/installation.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../playbooks/playbooks.html">Playbooks</a></li>
</ul>
<p class="caption"><span class="caption-text">Ansible Content</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="../ansible_content.html">z/OS Core</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="../ansible_content.html#ansible-module-doc">Ansible module doc</a><ul class="current">
<li class="toctree-l3 current"><a class="current reference internal" href="#">Plugins</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#action">Action</a></li>
<li class="toctree-l4"><a class="reference internal" href="#connection">Connection</a></li>
<li class="toctree-l4"><a class="reference internal" href="#z-os-connection-plugin">z/OS Connection Plugin</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="modules.html">Modules</a></li>
<li class="toctree-l3"><a class="reference internal" href="filters.html">Filters</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../ibm_zos_ims/docs/ansible_content.html">z/OS IMS</a></li>
</ul>
<p class="caption"><span class="caption-text">Release Notes</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../release/release.html">Release</a></li>
</ul>
<p class="caption"><span class="caption-text">Reference</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../reference/supplementary.html">Supplementary</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../reference/community.html">Contributing</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../reference/helpful_links.html">Helpful Links</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../../index.html">Red Hat Ansible Certified Content for IBM Z</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../../index.html">Docs</a> &raquo;</li>
        
          <li><a href="../ansible_content.html">z/OS Core</a> &raquo;</li>
        
      <li>Plugins</li>
    
    

  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="plugins">
<h1>Plugins<a class="headerlink" href="#plugins" title="Permalink to this headline">¶</a></h1>
<p>Plugins that come with the <strong>IBM z/OS core collection</strong> augment Ansible’s core
functionality. Ansible uses a plugin architecture to enable a rich, flexible
and expandable feature set.</p>
<div class="section" id="action">
<h2>Action<a class="headerlink" href="#action" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">zos_ping</span></code>: A fork of Ansible <a class="reference external" href="https://github.com/ansible/ansible/blob/devel/lib/ansible/plugins/action/normal.py">normal.py</a> action plugin that is modified to allow a conditional shebang line in REXX modules.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">zos_job_submit</span></code>: Used to <a class="reference external" href="modules/zos_job_submit.html">submit a job</a> from the controller and optionally monitor the job completion.</p></li>
</ul>
</div>
<div class="section" id="connection">
<h2>Connection<a class="headerlink" href="#connection" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">zos_ssh</span></code>: Enables the Ansible controller to communicate with a z/OS target machine by using SSH, with the added support to transfer ASCII as EBCDIC when transferring REXX modules. This connection plugin was forked from the Ansible <a class="reference external" href="https://github.com/ansible/ansible/blob/devel/lib/ansible/plugins/connection/ssh.py">ssh.py</a> connection plugin.</p></li>
<li><p>For further reference, see <strong>z/OS Connection Plugin</strong>.</p></li>
</ul>
</div>
<div class="section" id="z-os-connection-plugin">
<h2>z/OS Connection Plugin<a class="headerlink" href="#z-os-connection-plugin" title="Permalink to this headline">¶</a></h2>
<p>Since EBCDIC encoding is used on z/OS, custom plugins are required to determine
the correct transport method when targeting a z/OS system. The zos_ssh.py
connection plugin is a fork of the default ssh.py plugin with the added
functionality to check if a module is written in REXX.</p>
<p>Since REXX scripts are required be in EBCDIC encoding to run, they must be
handled differently during transfer. If the string
<code class="docutils literal notranslate"><span class="pre">__ANSIBLE_ENCODE_EBCDIC__</span></code> is found in the first line of the module, the
module is transferred to the target system using SCP. Otherwise, SFTP is used.
SCP treats files as text, automatically encoding as EBCDIC at transfer time.
SFTP treats files as binary, performing no encoding changes.</p>
<p><strong>REXX Module Configuration</strong>:</p>
<ul class="simple">
<li><p>Ensure a REXX modules first line is a comment containing the case insensitive keyword <code class="docutils literal notranslate"><span class="pre">rexx</span></code></p></li>
<li><p>Followed by the case sensitive value <code class="docutils literal notranslate"><span class="pre">__ANSIBLE_ENCODE_EBCDIC__</span></code></p></li>
</ul>
<p><strong>Example REXX module</strong>:</p>
<div class="highlight-sh notranslate"><div class="highlight"><pre><span></span>/* rexx  __ANSIBLE_ENCODE_EBCDIC__  */
<span class="nv">x</span> <span class="o">=</span> <span class="m">55</span>
SAY <span class="s1">&#39;{&quot;SYSTEM_VERSION&quot;:&quot;&#39;</span> x <span class="s1">&#39;&quot;}&#39;</span>
RETURN <span class="m">0</span>
</pre></div>
</div>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="modules.html" class="btn btn-neutral float-right" title="Modules" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="../ansible_content.html" class="btn btn-neutral float-left" title="z/OS Core" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright IBM Corporation 2020

    </p>
  </div> 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>